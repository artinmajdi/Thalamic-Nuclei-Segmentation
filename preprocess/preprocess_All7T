AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_824_05212013_JS/temp/deformation/linearAffine.txt
moving_image_filename: /array/ssd/msmajdi/code/general/RigidRegistration/MyCrop_Template2_Gap20.nii.gz components 1
output_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_824_05212013_JS/temp/CropMask.nii.gz
reference_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_824_05212013_JS/WMnMPRAGE_BsCr_PProcessed.nii.gz
[0/1]: AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_824_05212013_JS/temp/deformation/linearAffine.txt
User Linear interpolation 
 You are doing something more complex -- we wont check syntax in this case 
output origin: [83.6001, 64.3113, -99.8418]
output size: [256, 400, 256]
output spacing: [0.7031, 0.499307, 0.7031]
output direction: -0.999383 0.0351091 0
-0.0351091 -0.999383 0
0 0 1

 Run Reg 
 values 1
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_845_05312013_VZ/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
Metric 0:  Not a Point-set
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_845_05312013_VZ/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
  similarity metric weight: 1
  Radius: [5, 5, 5]
  radius: [5, 5, 5]
 use Histogram Matching 
 prepro 
 set 
Use identity affine transform as initial affine para.
aff_init.IsNull()==1
Use identity affine transform as initial fixed affine para.
fixed_aff_init.IsNull()==1
Continue affine registration from the input
affine_opt.use_rotation_header = 0
affine_opt.ignore_void_orgin = 0
transform_initial: IsNotNull():0
OptAffine: metric_type=AffineWithMutualInformation
MI_bins=32 MI_samples=16000
number_of_seeds=0 time_seed=1547862975
number_of_levels=5
number_of_iteration_list=[10000,10000,10000,10000,10000]
graident_scales=[1,1,1,1,1,1,1,1,1,1,0.0001,0.0001,0.0001]
is_rigid = 0
mask null: 1
maximum_step_length=0.1
relaxation_factor=0.5
minimum_step_length=0.0001
translation_scales=0.0001
opt.transform_initial.IsNull(): 1
 opt.use_rotation_header: 0
 opt.ignore_void_orgin: 0
input affine center: [-5.01439, -38.0003, 0.705287]
input affine para: [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, -0.5446528522303504, -0.1860024721193838, -13.01043035174749]
level 0, iter 143, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [0.02835500167907232, 0.024590934607581945, -0.0008292392455511859, 0.9992950476096533, 0.9925694091465842, 0.986437742753188, 0.967091557991933, 0.007159999461795471, 0.0035089893550672236, 0.007128834024499738, -0.13835504410944102, -3.6621315961760503, -15.491161248446572]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 55, size: fix[45, 50, 45]-mov[45, 55, 45], affine para: [0.03427799649520397, 0.024447631574807338, 0.002315904252563868, 0.9991105889010236, 0.9937624823788128, 0.9880258172441188, 0.9705273032748175, 0.0053157276250548995, 0.005405680344383481, 0.02270733598342474, -0.19267379277787353, -3.9701596885815187, -15.586544108397698]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 119, size: fix[90, 100, 90]-mov[90, 110, 90], affine para: [0.03718677542361463, 0.0307312335985168, 0.008224173815208827, 0.9988018311858285, 0.9966652939202665, 0.9923328211904855, 0.9731803134936268, 0.009714463764723184, 0.0015333125910589349, 0.029993519027486384, -0.21820242939849693, -4.178591478344422, -15.462303253936906]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 87, size: fix[180, 200, 180]-mov[180, 220, 180], affine para: [0.03877933523910358, 0.03498119692035904, 0.005855846113664362, 0.9986181392738294, 0.9971634563167514, 0.9923639759403341, 0.9751758561290447, 0.010073331836881614, 0.001110949137442112, 0.03333918920331005, -0.1885909810703783, -4.045208984142072, -15.387712431838654]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 97, size: fix[256, 400, 256]-mov[256, 440, 256], affine para: [0.0409931334213837, 0.03443829238388017, 0.003945489699363426, 0.9985579603313025, 0.9986522829440602, 0.989495762220835, 0.9740894105962433, 0.008143831888742783, -0.00025133547108681327, 0.031031386703668916, -0.24146656528349061, -4.113217326964629, -15.5350344453183]
    reach oscillation, current step: 9.76563e-05<0.0001
A=1 0 0 
0 1 0 
0 0 1 

rotation R1 0 0 
0 1 0 
0 0 1 

upper R1 0 0 
0 1 0 
0 0 1 

s=0.25 u=0 v=0 w0 r=1
m_Rotation from vnl0 0 0 1
level 0, iter 124, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [-0.028699167705404552, -0.023929760821458434, 0.0016711424684963858, 0.9993002209560922, 1.0166804829041276, 1.0063943356778136, 1.0227375096165592, -0.0032660067295098905, -0.00649735936689564, -0.01654407595474583, -0.9085388942881513, 4.646532507542515, 16.47786341630426]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 81, size: fix[45, 55, 45]-mov[45, 50, 45], affine para: [-0.03334420255981974, -0.033533104762115545, -0.003352916577593059, 0.9988755943515121, 1.017789772068421, 1.0101204818802545, 1.0225667060091812, -0.006896308992447826, 0.008134260380040694, -0.023555524886647052, -0.9516633142962426, 4.836733581458143, 16.183856819394347]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 208, size: fix[90, 110, 90]-mov[90, 100, 90], affine para: [-0.03612971075409147, -0.03193828416659756, -0.0034215649001863007, 0.998830757885916, 1.0088395221315922, 1.0090724221747023, 1.024330831648297, -0.011720587678021739, -0.002979455874718884, -0.033302414561624784, -1.091521329293726, 4.681335973662116, 15.643881550806828]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 236, size: fix[180, 220, 180]-mov[180, 200, 180], affine para: [-0.03874765422933653, -0.034042799911586825, -0.003436948308006356, 0.9986630535131615, 1.000585996175717, 1.0032436472538329, 1.0263047530451956, -0.005896858715967885, 0.0052027434832327924, -0.03802542721668845, -0.8148686430510321, 5.007287990362549, 15.706878308598672]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 86, size: fix[256, 440, 256]-mov[256, 400, 256], affine para: [-0.03600974620595925, -0.032884944183435356, 0.000344253745962745, 0.9988101722117138, 0.9981739157705563, 1.0029441933943959, 1.0223036284322031, -0.007272085397785795, -0.0005442569043487284, -0.039127195125252506, -1.0531973451385235, 5.021097650156669, 15.787246502152199]
    reach oscillation, current step: 9.76563e-05<0.0001
 v1 -0.330644 v2 -0.34141
 last params [0.0409931334213837, 0.03443829238388017, 0.003945489699363426, 0.9985579603313025, 0.9986522829440602, 0.989495762220835, 0.9740894105962433, 0.008143831888742783, -0.00025133547108681327, 0.031031386703668916, -0.24146656528349061, -4.113217326964629, -15.5350344453183]
 my params [-0.03600974620595925, -0.032884944183435356, 0.000344253745962745, 0.9988101722117138, 0.9981739157705563, 1.0029441933943959, 1.0223036284322031, -0.007272085397785795, -0.0005442569043487284, -0.039127195125252506, -1.0531973451385235, 5.021097650156669, 15.787246502152199]
A=0.999621 0.0103519 0.0660721 
-0.000839466 0.997231 -0.0336537 
-0.0642827 0.0703423 0.97353 

rotation R0.997938 0.00538287 0.0639538 
-0.000838053 0.997485 -0.0708793 
-0.0641745 0.0706796 0.995433 

upper R1.00169 0.00498062 0.00348828 
0 0.99975 0.0355954 
0 0 0.975695 

s=0.250286 u=0.0354302 v=0.0320687 w-0.00155701 r=0.998856
m_Rotation from vnl0.0354302 0.0320687 -0.00155701 0.998856
 new params [0.03543024888173663, 0.03206874399262646, -0.0015570108607598045, 0.9988562803727536, 1.0016864347292453, 0.9997497164222787, 0.9756948904948497, 0.004972230200416802, 0.003482407020413599, 0.03560426570026788, -0.04227562818177545, -4.476777781438963, -15.790263674435238]
outputput affine center: [-5.01439, -38.0003, 0.705287]
output affine para: [0.03543024888173663, 0.03206874399262646, -0.0015570108607598045, 0.9988562803727536, 1.0016864347292453, 0.9997497164222787, 0.9756948904948497, 0.004972230200416802, 0.003482407020413599, 0.03560426570026788, -0.04227562818177545, -4.476777781438963, -15.790263674435238]
initial measure value (MMI): rval = -0.202841
final measure value (MMI): rval = -0.322986
finish affine registeration...
 Requested Transformation Model:  SyN : Using 
SyN diffeomorphic model for transformation. 
  Grad Step 0.5 total-smoothing 0.5 gradient-smoothing 3
 setting N-TimeSteps = 1 trunc 256
 Registration Done 
 begin writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_845_05312013_VZ/temp/deformation/linear
 writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_845_05312013_VZ/temp/deformation/linear affine 
AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_845_05312013_VZ/temp/deformation/linearAffine.txt
moving_image_filename: /array/ssd/msmajdi/code/general/RigidRegistration/MyCrop_Template2_Gap20.nii.gz components 1
output_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_845_05312013_VZ/temp/CropMask.nii.gz
reference_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_845_05312013_VZ/WMnMPRAGE_BsCr_PProcessed.nii.gz
[0/1]: AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_845_05312013_VZ/temp/deformation/linearAffine.txt
User Linear interpolation 
 You are doing something more complex -- we wont check syntax in this case 
output origin: [79.6559, 59.5092, -91.2122]
output size: [256, 400, 256]
output spacing: [0.7031, 0.500286, 0.7031]
output direction: -0.999428 0.0338248 0
-0.0338248 -0.999428 0
0 0 1

 Run Reg 
 values 1
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_915_07112013_LC/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
Metric 0:  Not a Point-set
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_915_07112013_LC/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
  similarity metric weight: 1
  Radius: [5, 5, 5]
  radius: [5, 5, 5]
 use Histogram Matching 
 prepro 
 set 
Use identity affine transform as initial affine para.
aff_init.IsNull()==1
Use identity affine transform as initial fixed affine para.
fixed_aff_init.IsNull()==1
Continue affine registration from the input
affine_opt.use_rotation_header = 0
affine_opt.ignore_void_orgin = 0
transform_initial: IsNotNull():0
OptAffine: metric_type=AffineWithMutualInformation
MI_bins=32 MI_samples=16000
number_of_seeds=0 time_seed=1547863000
number_of_levels=5
number_of_iteration_list=[10000,10000,10000,10000,10000]
graident_scales=[1,1,1,1,1,1,1,1,1,1,0.0001,0.0001,0.0001]
is_rigid = 0
mask null: 1
maximum_step_length=0.1
relaxation_factor=0.5
minimum_step_length=0.0001
translation_scales=0.0001
opt.transform_initial.IsNull(): 1
 opt.use_rotation_header: 0
 opt.ignore_void_orgin: 0
input affine center: [-8.13703, -38.0059, -19.6817]
input affine para: [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 2.5738250657155826, 0.0734597294547541, 8.141967016983658]
level 0, iter 149, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [-0.03559845595134403, 0.002658807532584042, -0.02177577235781847, 0.9991253657147362, 1.0510733910394678, 1.0074757973480348, 0.9968161540256076, 0.0090863479363645, 0.00951640682913581, -0.04427876818990359, 2.8189872363409285, 2.7350870797252105, 10.863923179320166]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 79, size: fix[45, 50, 45]-mov[45, 55, 45], affine para: [-0.02991482600417863, 0.002856051061615003, -0.013172361073750203, 0.9994615725785638, 1.0466470462372968, 1.001686572528861, 1.0009512846111763, 0.01915969218632079, 0.011244582303555217, -0.04817181741438073, 2.7373187649878297, 2.6435236686633212, 10.602586788963366]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 415, size: fix[90, 100, 90]-mov[90, 110, 90], affine para: [-0.02731874585919052, -0.0005330162348728547, -0.013447130388285098, 0.9995361807872163, 1.0371709473264275, 0.9932746992586791, 0.9960418224287004, 0.02366662456513898, 0.021386074966166582, -0.0416825252117568, 2.6891022316519706, 2.9951330272151973, 10.462613132492342]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 461, size: fix[180, 200, 180]-mov[180, 220, 180], affine para: [-0.03034952817194678, 0.005782371120003654, -0.01478920229395415, 0.99941320274423, 1.0387476154965734, 0.9886503670496316, 0.9944821675532299, 0.018339178890459416, 0.010792831653802962, -0.049587686710984555, 2.9195381582995883, 3.0908230167544626, 10.240298463377673]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 202, size: fix[256, 400, 256]-mov[256, 440, 256], affine para: [-0.02613262987473319, 0.010567565762088739, -0.015211803008068878, 0.9994868749808262, 1.0391775500839422, 0.9870928104510645, 1.0005654976048586, 0.023785546365263272, 0.013046925061894182, -0.049006664882633076, 2.768542515457794, 3.181919067682706, 10.216116998504488]
    reach oscillation, current step: 9.76563e-05<0.0001
A=1 0 0 
0 1 0 
0 0 1 

rotation R1 0 0 
0 1 0 
0 0 1 

upper R1 0 0 
0 1 0 
0 0 1 

s=0.25 u=0 v=0 w0 r=1
m_Rotation from vnl0 0 0 1
level 0, iter 203, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [0.0303034263361588, 0.0018684989573122055, 0.018547715286610728, 0.9993668962506124, 0.9597517070283403, 0.9869810530682795, 0.9675702598881052, -0.015773041655554567, -0.015637332951802484, 0.029082295596963882, -2.29638253401489, -2.05215309481292, -9.395082052377582]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 129, size: fix[45, 55, 45]-mov[45, 50, 45], affine para: [0.029605372400669485, -0.0054818069769028395, 0.02188771714170998, 0.9993069596253247, 0.961268548994718, 1.0055195110273663, 0.9828717979559122, -0.011879057522067478, -0.007716746702274657, 0.04289317804653995, -2.4706857149494623, -2.795701798306319, -10.162996125524788]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 168, size: fix[90, 110, 90]-mov[90, 100, 90], affine para: [0.030402816374249214, -0.001823558636050741, 0.018539100141144422, 0.999364120406757, 0.9595181516733827, 1.012556779224858, 0.9971361651285523, -0.01555362878230577, -0.007802413920524574, 0.04314425226921643, -2.159143453714882, -2.671734089099388, -10.306744328188069]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 216, size: fix[180, 220, 180]-mov[180, 200, 180], affine para: [0.027286864656373887, -0.001135346543012564, 0.01752075153711024, 0.9994734420038517, 0.9685628893935929, 1.00904676441599, 0.9939197384080024, -0.018648543135746307, -0.012987667900536471, 0.044016286193895006, -2.4494569253225396, -2.889616120429238, -10.024074992517072]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 2709, size: fix[256, 440, 256]-mov[256, 400, 256], affine para: [0.027697142939620143, -0.007449197342752529, 0.011246833652808987, 0.9995253305768279, 0.961185507078452, 1.0141923347211694, 0.9889577001811913, -0.019601320739931975, -0.011643439028394629, 0.04274639493608245, -2.4027934682234227, -2.8412217464744915, -9.623367757441644]
    reach oscillation, current step: 9.76563e-05<0.0001
 v1 -0.324057 v2 -0.322424
final [-0.02613262987473319, 0.010567565762088739, -0.015211803008068878, 0.9994868749808262, 1.0391775500839422, 0.9870928104510645, 1.0005654976048586, 0.023785546365263272, 0.013046925061894182, -0.049006664882633076, 2.768542515457794, 3.181919067682706, 10.216116998504488]
outputput affine center: [-8.13703, -38.0059, -19.6817]
output affine para: [-0.02613262987473319, 0.010567565762088739, -0.015211803008068878, 0.9994868749808262, 1.0391775500839422, 0.9870928104510645, 1.0005654976048586, 0.023785546365263272, 0.013046925061894182, -0.049006664882633076, 2.768542515457794, 3.181919067682706, 10.216116998504488]
initial measure value (MMI): rval = -0.236337
final measure value (MMI): rval = -0.323251
finish affine registeration...
 Requested Transformation Model:  SyN : Using 
SyN diffeomorphic model for transformation. 
  Grad Step 0.5 total-smoothing 0.5 gradient-smoothing 3
 setting N-TimeSteps = 1 trunc 256
 Registration Done 
 begin writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_915_07112013_LC/temp/deformation/linear
 writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_915_07112013_LC/temp/deformation/linear affine 
AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_915_07112013_LC/temp/deformation/linearAffine.txt
moving_image_filename: /array/ssd/msmajdi/code/general/RigidRegistration/MyCrop_Template2_Gap20.nii.gz components 1
output_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_915_07112013_LC/temp/CropMask.nii.gz
reference_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_915_07112013_LC/WMnMPRAGE_BsCr_PProcessed.nii.gz
[0/1]: AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_915_07112013_LC/temp/deformation/linearAffine.txt
User Linear interpolation 
 You are doing something more complex -- we wont check syntax in this case 
output origin: [81.5532, 55.916, -114.06]
output size: [256, 400, 256]
output spacing: [0.7031, 0.5, 0.7031]
output direction: -1 0 0
0 -1 0
0 0 1

 Run Reg 
 values 1
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_943_07242013_PA/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
Metric 0:  Not a Point-set
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_943_07242013_PA/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
  similarity metric weight: 1
  Radius: [5, 5, 5]
  radius: [5, 5, 5]
 use Histogram Matching 
 prepro 
 set 
Use identity affine transform as initial affine para.
aff_init.IsNull()==1
Use identity affine transform as initial fixed affine para.
fixed_aff_init.IsNull()==1
Continue affine registration from the input
affine_opt.use_rotation_header = 0
affine_opt.ignore_void_orgin = 0
transform_initial: IsNotNull():0
OptAffine: metric_type=AffineWithMutualInformation
MI_bins=32 MI_samples=16000
number_of_seeds=0 time_seed=1547863056
number_of_levels=5
number_of_iteration_list=[10000,10000,10000,10000,10000]
graident_scales=[1,1,1,1,1,1,1,1,1,1,0.0001,0.0001,0.0001]
is_rigid = 0
mask null: 1
maximum_step_length=0.1
relaxation_factor=0.5
minimum_step_length=0.0001
translation_scales=0.0001
opt.transform_initial.IsNull(): 1
 opt.use_rotation_header: 0
 opt.ignore_void_orgin: 0
input affine center: [-7.84312, -34.2791, -0.241402]
input affine para: [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 2.289777126744144, -3.8201133222676447, -11.780956905413136]
level 0, iter 118, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [-0.004121639949273544, 0.024782305809817155, 0.026335334395750285, 0.9993374302832558, 0.961647311259367, 1.0356492043661185, 0.9550511361925573, -0.030365365341235056, 0.004192796489038478, -0.009458959298779407, 2.921648748293088, -3.3801060519301576, -12.039658727386064]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 98, size: fix[45, 50, 45]-mov[45, 55, 45], affine para: [-0.0028934888879333233, 0.032504420422230146, 0.03382863612222945, 0.9988947460834801, 0.9584873148081272, 1.0303415742760536, 0.9542430719627945, -0.026083245903718816, -0.0023116965520763063, -0.016269363315478545, 2.9560339824916584, -3.579335215387843, -11.86879512655278]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 107, size: fix[90, 100, 90]-mov[90, 110, 90], affine para: [-0.005709896539537875, 0.029996506248432628, 0.032698662261300714, 0.9989987007903048, 0.954470483229953, 1.0254834439684049, 0.9576830799095725, -0.027868475721791516, 0.0013200841252914803, -0.015138348795304863, 2.962482132064, -3.439704960472804, -12.062219206296254]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 297, size: fix[180, 200, 180]-mov[180, 220, 180], affine para: [-0.001982209583936584, 0.029015226830493398, 0.03766338270718913, 0.9988671868973333, 0.9538100541510706, 1.0280046210796776, 0.9555696168687917, -0.027942848644095353, 0.00468841017608317, -0.01382912096617648, 2.856043261468433, -3.4802559514457805, -11.959384093792519]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 84, size: fix[256, 400, 256]-mov[256, 440, 256], affine para: [-0.006068235926780415, 0.028416666786319104, 0.0384199501480616, 0.99883911466868, 0.9540236461265523, 1.028208438179227, 0.9564166028386444, -0.024643368863048003, 0.005251615494473154, -0.012467760252734909, 2.8363871448888793, -3.293149333667515, -12.034825487752705]
    reach oscillation, current step: 9.76563e-05<0.0001
A=1 0 0 
0 1 0 
0 0 1 

rotation R1 0 0 
0 1 0 
0 0 1 

upper R1 0 0 
0 1 0 
0 0 1 

s=0.25 u=0 v=0 w0 r=1
m_Rotation from vnl0 0 0 1
level 0, iter 141, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [0.003073292327733127, -0.026284591103018024, -0.02486050217260233, 0.9993405978826946, 1.0451110236435963, 0.975257589192894, 1.0340524661477781, 0.03709616404035924, -0.0012001963165820552, 0.009303649056107819, -3.333838434797309, 3.9188734511956937, 12.561856882608168]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 79, size: fix[45, 55, 45]-mov[45, 50, 45], affine para: [0.0032760630954819553, -0.035188652171576816, -0.024460293348221522, 0.9990759331593676, 1.046570782988103, 0.9742780601795507, 1.0397155528173179, 0.0405407603210409, 0.004975232497952894, 0.010752714217920593, -3.6717197703098923, 3.4625397302438397, 12.559125726573665]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 93, size: fix[90, 110, 90]-mov[90, 100, 90], affine para: [0.007118055833422912, -0.032412814132025417, -0.022908335005453053, 0.9991866447008152, 1.0458339894715145, 0.9741763267547009, 1.0430575355652485, 0.04416633917509773, -0.0019470269114925907, 0.011000605993523756, -3.642799109629388, 3.2931665555616165, 12.430259049016678]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 32, size: fix[180, 220, 180]-mov[180, 200, 180], affine para: [0.006478980699609721, -0.030974120014484883, -0.024788794316782294, 0.9991917445489342, 1.0471895074732747, 0.9783882470524455, 1.040870334065519, 0.043396422302910014, -0.002912157054782225, 0.01381438509522394, -3.7654072037312467, 3.4968958170891598, 12.485638971550696]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 135, size: fix[256, 440, 256]-mov[256, 400, 256], affine para: [0.001310501451437208, -0.03296937182248146, -0.028222400334705293, 0.9990569549464758, 1.0487736240834398, 0.9822671839301841, 1.0468765547120307, 0.04352149922171735, -0.0006878649008644194, 0.015066455011392506, -3.718409929033743, 3.5021931523128114, 12.383460840276246]
    reach oscillation, current step: 9.76563e-05<0.0001
 v1 -0.348207 v2 -0.358422
 last params [-0.006068235926780415, 0.028416666786319104, 0.0384199501480616, 0.99883911466868, 0.9540236461265523, 1.028208438179227, 0.9564166028386444, -0.024643368863048003, 0.005251615494473154, -0.012467760252734909, 2.8363871448888793, -3.293149333667515, -12.034825487752705]
 my params [0.001310501451437208, -0.03296937182248146, -0.028222400334705293, 0.9990569549464758, 1.0487736240834398, 0.9822671839301841, 1.0468765547120307, 0.04352149922171735, -0.0006878649008644194, 0.015066455011392506, -3.718409929033743, 3.5021931523128114, 12.383460840276246]
A=0.947323 -0.0980889 0.0638246 
0.0582708 1.01644 -0.00980013 
-0.0629974 -0.000723659 0.953143 

rotation R0.995922 -0.0615937 0.0659191 
0.0612601 0.998097 0.00707175 
-0.0662293 -0.0030047 0.9978 

upper R0.951202 -0.0353738 -0.00016199 
0 1.02055 -0.0165766 
0 0 0.955184 

s=0.250256 u=-0.00252169 v=0.0330709 w0.0307449 r=0.998977
m_Rotation from vnl-0.00252169 0.0330709 0.0307449 0.998977
 new params [-0.0025216930390984937, 0.033070938739761545, 0.030744917221764197, 0.9989768286302313, 0.9512023475097653, 1.020547914033232, 0.9551835219264596, -0.03718851229634164, -0.00017030013075243136, -0.016242821532490178, 3.0756941945421925, -3.221730069850472, -12.03491952021965]
outputput affine center: [-7.84312, -34.2791, -0.241402]
output affine para: [-0.0025216930390984937, 0.033070938739761545, 0.030744917221764197, 0.9989768286302313, 0.9512023475097653, 1.020547914033232, 0.9551835219264596, -0.03718851229634164, -0.00017030013075243136, -0.016242821532490178, 3.0756941945421925, -3.221730069850472, -12.03491952021965]
initial measure value (MMI): rval = -0.229692
final measure value (MMI): rval = -0.354249
finish affine registeration...
 Requested Transformation Model:  SyN : Using 
SyN diffeomorphic model for transformation. 
  Grad Step 0.5 total-smoothing 0.5 gradient-smoothing 3
 setting N-TimeSteps = 1 trunc 256
 Registration Done 
 begin writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_943_07242013_PA/temp/deformation/linear
 writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_943_07242013_PA/temp/deformation/linear affine 
AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_943_07242013_PA/temp/deformation/linearAffine.txt
moving_image_filename: /array/ssd/msmajdi/code/general/RigidRegistration/MyCrop_Template2_Gap20.nii.gz components 1
output_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_943_07242013_PA/temp/CropMask.nii.gz
reference_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_943_07242013_PA/WMnMPRAGE_BsCr_PProcessed.nii.gz
[0/1]: AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_943_07242013_PA/temp/deformation/linearAffine.txt
User Linear interpolation 
 You are doing something more complex -- we wont check syntax in this case 
output origin: [85.0558, 52.9795, -93.7482]
output size: [256, 400, 256]
output spacing: [0.7031, 0.49953, 0.7031]
output direction: -0.99892 -0.0464644 0
0.0464644 -0.99892 0
0 0 1

 Run Reg 
 values 1
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_964_08092013_TG/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
Metric 0:  Not a Point-set
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_964_08092013_TG/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
  similarity metric weight: 1
  Radius: [5, 5, 5]
  radius: [5, 5, 5]
 use Histogram Matching 
 prepro 
 set 
Use identity affine transform as initial affine para.
aff_init.IsNull()==1
Use identity affine transform as initial fixed affine para.
fixed_aff_init.IsNull()==1
Continue affine registration from the input
affine_opt.use_rotation_header = 0
affine_opt.ignore_void_orgin = 0
transform_initial: IsNotNull():0
OptAffine: metric_type=AffineWithMutualInformation
MI_bins=32 MI_samples=16000
number_of_seeds=0 time_seed=1547863082
number_of_levels=5
number_of_iteration_list=[10000,10000,10000,10000,10000]
graident_scales=[1,1,1,1,1,1,1,1,1,1,0.0001,0.0001,0.0001]
is_rigid = 0
mask null: 1
maximum_step_length=0.1
relaxation_factor=0.5
minimum_step_length=0.0001
translation_scales=0.0001
opt.transform_initial.IsNull(): 1
 opt.use_rotation_header: 0
 opt.ignore_void_orgin: 0
input affine center: [-4.12241, -41.9606, -10.9012]
input affine para: [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, -1.4510305305464186, 3.8154663071309614, -1.2179382739810727]
level 0, iter 65, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [-0.03244063895236137, -0.0058307966857065055, 0.013572259975026268, 0.9993644983255823, 1.047218542550606, 1.010619448848445, 0.9958119220606881, -0.012741134551259756, -0.009563648011449793, 0.02323219998014323, -2.581711220781415, 4.887724988702307, -2.2986672162892643]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 84, size: fix[45, 50, 45]-mov[45, 55, 45], affine para: [-0.04231037812085376, -0.005083760707380678, 0.01762585151981046, 0.9989360923695481, 1.046741047938346, 1.00304190065649, 1.0031291517599739, -0.013793822483287716, -0.009694459334422353, 0.016389911925971994, -2.690328582650212, 5.203213292827042, -2.45804221130866]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 35, size: fix[90, 100, 90]-mov[90, 110, 90], affine para: [-0.041317698448254614, -0.005710466217959617, 0.012939263767714078, 0.9990459518078545, 1.0459641364215917, 1.0012160397117107, 1.0003541551073776, -0.015544375400431716, -0.005735144720388136, 0.0177458974552028, -2.6941867826884662, 5.214909511050695, -2.4623712743333606]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 412, size: fix[180, 200, 180]-mov[180, 220, 180], affine para: [-0.03822621432249289, -0.001463319507589364, 0.007746134682764279, 0.9992380160062297, 1.0472403874267662, 0.9991018695551209, 1.0072592956557032, -0.026154662635609133, -0.012784443888045645, 0.026807152558541488, -2.5218661182937394, 5.301868551025037, -2.499823512887461]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 1246, size: fix[256, 400, 256]-mov[256, 440, 256], affine para: [-0.040937020847309595, -0.007025795979997179, 0.002862335490905347, 0.9991329268673572, 1.0505614627266486, 0.998981668958389, 1.0122366182368585, -0.020652233323787253, -0.008158422564328156, 0.02690376471324533, -2.8039967501159606, 5.397113239206749, -2.8309033475839374]
    reach oscillation, current step: 9.76563e-05<0.0001
A=1 0 0 
0 1 0 
0 0 1 

rotation R1 0 0 
0 1 0 
0 0 1 

upper R1 0 0 
0 1 0 
0 0 1 

s=0.25 u=0 v=0 w0 r=1
m_Rotation from vnl0 0 0 1
level 0, iter 129, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [0.03776807218829808, 0.007817918817153978, -0.014053595968924516, 0.9991571194306179, 0.9595559077174419, 0.9846168462466017, 0.9868705144342205, 0.01522287120401818, 0.005689055707009007, -0.026745106966737892, 2.41705181687381, -5.121256768548548, 2.8792233400094913]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 75, size: fix[45, 55, 45]-mov[45, 50, 45], affine para: [0.039415318433650606, 0.004843486962255894, -0.01591840821636991, 0.9990843696038275, 0.9570818884347337, 0.9911902728783273, 0.9931750010632111, 0.012608295823114785, 0.00840312724274417, -0.027357113472959223, 2.3831938590691193, -5.391309881810676, 2.461408738053414]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 131, size: fix[90, 110, 90]-mov[90, 100, 90], affine para: [0.042415845319250516, 0.0068733319643808945, -0.02014510631855308, 0.9988732792827002, 0.9547418939556275, 0.9990952315134191, 0.9926256856261725, 0.009818679887443397, 0.002996851264056116, -0.018809751359899065, 2.430626473230414, -5.590570435752694, 2.1344696248920783]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 180, size: fix[180, 220, 180]-mov[180, 200, 180], affine para: [0.03512331479819344, 0.005257800621035252, -0.011119774891170515, 0.9993072895243915, 0.9525886865776804, 1.0011855671590195, 0.9918021217503955, 0.017852996360443248, 0.008451468677400311, -0.022525396792149873, 2.4176915025350794, -5.53742788765136, 2.5846209803537032]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 361, size: fix[256, 440, 256]-mov[256, 400, 256], affine para: [0.03825965748802663, 0.0010970332971923277, -0.004494663512254328, 0.9992571206284974, 0.9577204310803618, 1.0007705192333038, 0.9902212642890581, 0.02607379938665089, 0.010773328433217938, -0.01177793078267636, 2.262613102501354, -5.608899640983879, 2.18356990310176]
    reach oscillation, current step: 9.76563e-05<0.0001
 v1 -0.356715 v2 -0.366111
 last params [-0.040937020847309595, -0.007025795979997179, 0.002862335490905347, 0.9991329268673572, 1.0505614627266486, 0.998981668958389, 1.0122366182368585, -0.020652233323787253, -0.008158422564328156, 0.02690376471324533, -2.8039967501159606, 5.397113239206749, -2.8309033475839374]
 my params [0.03825965748802663, 0.0010970332971923277, -0.004494663512254328, 0.9992571206284974, 0.9577204310803618, 1.0007705192333038, 0.9902212642890581, 0.02607379938665089, 0.010773328433217938, -0.01177793078267636, 2.262613102501354, -5.608899640983879, 2.18356990310176]
A=1.04384 -0.0344122 -0.0157973 
0.0090816 0.995355 0.0882531 
0.00186676 -0.0772275 1.00692 

rotation R0.999961 -0.00853558 -0.00245527 
0.0086998 0.996972 0.0772708 
0.00178828 -0.0772891 0.997007 

upper R1.04389 -0.0258896 -0.0132282 
0 0.998604 0.0102971 
0 0 1.01076 

s=0.25019 u=-0.0386693 v=-0.00106169 w0.00431211 r=0.999242
m_Rotation from vnl-0.0386693 -0.00106169 0.00431211 0.999242
 new params [-0.038669299854850805, -0.0010616923918770466, 0.004312114374259486, 0.9992421947293979, 1.0438856147377138, 0.9986035964135499, 1.010760955680517, -0.02480117274616522, -0.01267208934218564, 0.010311452616500523, -2.520336411145144, 5.369589983768361, -2.6360574247138366]
outputput affine center: [-4.12241, -41.9606, -10.9012]
output affine para: [-0.038669299854850805, -0.0010616923918770466, 0.004312114374259486, 0.9992421947293979, 1.0438856147377138, 0.9986035964135499, 1.010760955680517, -0.02480117274616522, -0.01267208934218564, 0.010311452616500523, -2.520336411145144, 5.369589983768361, -2.6360574247138366]
initial measure value (MMI): rval = -0.27196
final measure value (MMI): rval = -0.36789
finish affine registeration...
 Requested Transformation Model:  SyN : Using 
SyN diffeomorphic model for transformation. 
  Grad Step 0.5 total-smoothing 0.5 gradient-smoothing 3
 setting N-TimeSteps = 1 trunc 256
 Registration Done 
 begin writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_964_08092013_TG/temp/deformation/linear
 writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_964_08092013_TG/temp/deformation/linear affine 
AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_964_08092013_TG/temp/deformation/linearAffine.txt
moving_image_filename: /array/ssd/msmajdi/code/general/RigidRegistration/MyCrop_Template2_Gap20.nii.gz components 1
output_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_964_08092013_TG/temp/CropMask.nii.gz
reference_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_964_08092013_TG/WMnMPRAGE_BsCr_PProcessed.nii.gz
[0/1]: AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_964_08092013_TG/temp/deformation/linearAffine.txt
User Linear interpolation 
 You are doing something more complex -- we wont check syntax in this case 
output origin: [84.6, 51.345, -104.92]
output size: [256, 400, 256]
output spacing: [0.7031, 0.5, 0.7031]
output direction: -1 0 0
0 -1 0
0 0 1

 Run Reg 
 values 1
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON606_20130110/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
Metric 0:  Not a Point-set
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON606_20130110/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
  similarity metric weight: 1
  Radius: [5, 5, 5]
  radius: [5, 5, 5]
 use Histogram Matching 
 prepro 
 set 
Use identity affine transform as initial affine para.
aff_init.IsNull()==1
Use identity affine transform as initial fixed affine para.
fixed_aff_init.IsNull()==1
Continue affine registration from the input
affine_opt.use_rotation_header = 0
affine_opt.ignore_void_orgin = 0
transform_initial: IsNotNull():0
OptAffine: metric_type=AffineWithMutualInformation
MI_bins=32 MI_samples=16000
number_of_seeds=0 time_seed=1547863120
number_of_levels=5
number_of_iteration_list=[10000,10000,10000,10000,10000]
graident_scales=[1,1,1,1,1,1,1,1,1,1,0.0001,0.0001,0.0001]
is_rigid = 0
mask null: 1
maximum_step_length=0.1
relaxation_factor=0.5
minimum_step_length=0.0001
translation_scales=0.0001
opt.transform_initial.IsNull(): 1
 opt.use_rotation_header: 0
 opt.ignore_void_orgin: 0
input affine center: [2.44333, -45.0898, 13.8358]
input affine para: [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, -8.002691146056975, 6.890042146111696, -26.22496629041827]
level 0, iter 91, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [-0.001051076383193197, 0.011033784268265925, -0.005092683123269352, 0.9999256049435699, 1.0008195445703199, 0.9107954371961589, 0.9340557505672974, -0.023142856467213296, -0.0006334407511774011, 0.030573179684015492, -9.13129597700152, 4.433475438690012, -26.341028202088978]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 51, size: fix[32, 36, 32]-mov[45, 55, 45], affine para: [-0.0005185627096287558, 0.00831522260981993, -0.0076132485619001085, 0.9999363112778734, 0.9929967705156229, 0.8994088878959179, 0.9379794761352247, -0.024222168439928953, 0.002334670025717546, 0.024930419936091484, -9.163599952107631, 4.278269088407561, -26.522878742159644]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 119, size: fix[64, 71, 64]-mov[90, 110, 90], affine para: [0.00022441611716073252, 0.007641018967524535, -0.009284842557297201, 0.9999276754671962, 0.9897290012062853, 0.8985962398528073, 0.9400127335002876, -0.026432729437148278, 0.0025132304607840645, 0.02532052007344261, -9.115734565920992, 4.241945849627741, -26.527130036492203]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 317, size: fix[128, 142, 128]-mov[180, 220, 180], affine para: [-0.0035673261283264133, 0.010459686359065959, -0.007634061860365187, 0.9999097910537111, 0.9871836645372222, 0.8975510131155006, 0.9482225785163261, -0.024001069956399012, 0.00010391010024458585, 0.02137434449251719, -9.171831872606827, 4.4574647402499235, -26.551812407557033]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 464, size: fix[256, 200, 256]-mov[256, 440, 256], affine para: [0.0001498136578825744, 0.00873666235793566, -0.007588886633837209, 0.9999330263004467, 0.9785399435657136, 0.8941292199791108, 0.9318703995933323, -0.02516426306672138, 0.005815414229332486, 0.013379779059709886, -9.175352339399565, 4.46434781245738, -26.56196111868335]
    reach oscillation, current step: 9.76563e-05<0.0001
A=1 0 0 
0 1 0 
0 0 1 

rotation R1 0 0 
0 1 0 
0 0 1 

upper R1 0 0 
0 1 0 
0 0 1 

s=0.25 u=0 v=0 w0 r=1
m_Rotation from vnl0 0 0 1
level 0, iter 212, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [-0.002860848873725903, -0.007438880399472241, 0.013854312408802978, 0.9998722601561678, 1.0142799847101311, 1.0860904373929545, 1.052083758224695, 0.03394780273373274, -0.004076946589601375, -0.03843627707947189, 8.649827842987303, -4.800010701557851, 28.79074084553001]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 106, size: fix[45, 55, 45]-mov[32, 36, 32], affine para: [0.0015814919247931153, -0.011974586982025671, 0.008836551375477853, 0.9998880054834591, 1.0166374279061359, 1.1031273992182307, 1.0566086836455648, 0.033395921005191426, 0.0048067688977185465, -0.03550897253010744, 8.7095278471341, -5.482754084285558, 28.380146497712033]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 43, size: fix[90, 110, 90]-mov[64, 71, 64], affine para: [-0.0006941310429140252, -0.012822787239073832, 0.002584430513509284, 0.9999142038337278, 1.013408042917012, 1.1073969318815458, 1.0626141065080008, 0.030771465839635918, -0.0012789912800890166, -0.030053020472054357, 8.552087676383978, -5.19707223753017, 29.02349228764107]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 145, size: fix[180, 220, 180]-mov[128, 142, 128], affine para: [0.000596618903262786, -0.008061871483053103, 0.011068434278089113, 0.9999060656065183, 1.0172114571901567, 1.1083285916953345, 1.0637658717265952, 0.03315959204088747, -0.007024662256997798, -0.028409578812204787, 8.82889469011529, -5.444220623347282, 28.620327060678104]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 2968, size: fix[256, 440, 256]-mov[256, 200, 256], affine para: [0.0012766986567148003, -0.013217514573077776, 0.018159823299478885, 0.9997469120566376, 1.022035114128615, 1.1068675749635304, 1.063347681070099, 0.04015044199891217, -0.006204741437494353, -0.025254824343778553, 8.575537810236534, -5.577245709065654, 28.746124859175282]
    reach oscillation, current step: 9.76563e-05<0.0001
 v1 -0.303219 v2 -0.31718
 last params [0.0001498136578825744, 0.00873666235793566, -0.007588886633837209, 0.9999330263004467, 0.9785399435657136, 0.8941292199791108, 0.9318703995933323, -0.02516426306672138, 0.005815414229332486, 0.013379779059709886, -9.175352339399565, 4.46434781245738, -26.56196111868335]
 my params [0.0012766986567148003, -0.013217514573077776, 0.018159823299478885, 0.9997469120566376, 1.022035114128615, 1.1068675749635304, 1.063347681070099, 0.04015044199891217, -0.006204741437494353, -0.025254824343778553, 8.575537810236534, -5.577245709065654, 28.746124859175282]
A=0.978642 -0.000770118 0.0307085 
-0.0334618 0.90278 0.0256145 
-0.0248103 -0.00285213 0.940095 

rotation R0.999095 0.0340693 0.0254521 
-0.0341611 0.999411 0.00317995 
-0.0253288 -0.00404655 0.999671 

upper R0.979528 -0.0315371 0.00599424 
0 0.902233 0.0228415 
0 0 0.940648 

s=0.250057 u=-0.00180704 v=0.0126981 w-0.0170615 r=0.999772
m_Rotation from vnl-0.00180704 0.0126981 -0.0170615 0.999772
 new params [-0.001807035432314406, 0.012698130916220948, -0.01706148950131512, 0.9997721728824909, 0.9795284703921262, 0.9022334084508727, 0.9406482708371265, -0.03219622750346873, 0.006119517768455736, 0.025316623040025726, -9.279430344029965, 4.585658621571516, -26.827220048883284]
outputput affine center: [2.44333, -45.0898, 13.8358]
output affine para: [-0.001807035432314406, 0.012698130916220948, -0.01706148950131512, 0.9997721728824909, 0.9795284703921262, 0.9022334084508727, 0.9406482708371265, -0.03219622750346873, 0.006119517768455736, 0.025316623040025726, -9.279430344029965, 4.585658621571516, -26.827220048883284]
initial measure value (MMI): rval = -0.177468
final measure value (MMI): rval = -0.292776
finish affine registeration...
 Requested Transformation Model:  SyN : Using 
SyN diffeomorphic model for transformation. 
  Grad Step 0.5 total-smoothing 0.5 gradient-smoothing 3
 setting N-TimeSteps = 1 trunc 256
 Registration Done 
 begin writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON606_20130110/temp/deformation/linear
 writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON606_20130110/temp/deformation/linear affine 
AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON606_20130110/temp/deformation/linearAffine.txt
moving_image_filename: /array/ssd/msmajdi/code/general/RigidRegistration/MyCrop_Template2_Gap20.nii.gz components 1
output_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON606_20130110/temp/CropMask.nii.gz
reference_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON606_20130110/WMnMPRAGE_BsCr_PProcessed.nii.gz
[0/1]: AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON606_20130110/temp/deformation/linearAffine.txt
User Linear interpolation 
 You are doing something more complex -- we wont check syntax in this case 
output origin: [94.7766, 51.878, -81.0366]
output size: [256, 200, 256]
output spacing: [0.7031, 1, 0.7031]
output direction: -1 0 0
0 -1 0
0 0 1

terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x1b74e60): Inputs do not occupy the same physical space! 
InputImage Origin: [9.4776611e+01, 5.1878006e+01, -8.1036613e+01], InputImage_1 Origin: [9.4776604e+01, 5.1878006e+01, -8.1036606e+01]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x2a4e4f0): Inputs do not occupy the same physical space! 
InputImage Origin: [9.4776611e+01, 5.1878006e+01, -8.1036613e+01], InputImage_1 Origin: [9.4776604e+01, 5.1878006e+01, -8.1036606e+01]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x28014f0): Inputs do not occupy the same physical space! 
InputImage Origin: [9.4776611e+01, 5.1878006e+01, -8.1036613e+01], InputImage_1 Origin: [9.4776604e+01, 5.1878006e+01, -8.1036606e+01]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x31f94f0): Inputs do not occupy the same physical space! 
InputImage Origin: [9.4776611e+01, 5.1878006e+01, -8.1036613e+01], InputImage_1 Origin: [9.4776604e+01, 5.1878006e+01, -8.1036606e+01]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x237b4f0): Inputs do not occupy the same physical space! 
InputImage Origin: [9.4776611e+01, 5.1878006e+01, -8.1036613e+01], InputImage_1 Origin: [9.4776604e+01, 5.1878006e+01, -8.1036606e+01]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x31374f0): Inputs do not occupy the same physical space! 
InputImage Origin: [9.4776611e+01, 5.1878006e+01, -8.1036613e+01], InputImage_1 Origin: [9.4776604e+01, 5.1878006e+01, -8.1036606e+01]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x298b4f0): Inputs do not occupy the same physical space! 
InputImage Origin: [9.4776611e+01, 5.1878006e+01, -8.1036613e+01], InputImage_1 Origin: [9.4776604e+01, 5.1878006e+01, -8.1036606e+01]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x35244f0): Inputs do not occupy the same physical space! 
InputImage Origin: [9.4776611e+01, 5.1878006e+01, -8.1036613e+01], InputImage_1 Origin: [9.4776604e+01, 5.1878006e+01, -8.1036606e+01]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x204de60): Inputs do not occupy the same physical space! 
InputImage Origin: [9.4776611e+01, 5.1878006e+01, -8.1036613e+01], InputImage_1 Origin: [9.4776604e+01, 5.1878006e+01, -8.1036606e+01]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x21c04f0): Inputs do not occupy the same physical space! 
InputImage Origin: [9.4776611e+01, 5.1878006e+01, -8.1036613e+01], InputImage_1 Origin: [9.4776604e+01, 5.1878006e+01, -8.1036606e+01]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x2132e60): Inputs do not occupy the same physical space! 
InputImage Origin: [9.4776611e+01, 5.1878006e+01, -8.1036613e+01], InputImage_1 Origin: [9.4776604e+01, 5.1878006e+01, -8.1036606e+01]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x17cd4f0): Inputs do not occupy the same physical space! 
InputImage Origin: [9.4776611e+01, 5.1878006e+01, -8.1036613e+01], InputImage_1 Origin: [9.4776604e+01, 5.1878006e+01, -8.1036606e+01]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x2ecce60): Inputs do not occupy the same physical space! 
InputImage Origin: [9.4776611e+01, 5.1878006e+01, -8.1036613e+01], InputImage_1 Origin: [9.4776604e+01, 5.1878006e+01, -8.1036606e+01]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
 Run Reg 
 values 1
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON724_03272013/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
Metric 0:  Not a Point-set
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON724_03272013/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
  similarity metric weight: 1
  Radius: [5, 5, 5]
  radius: [5, 5, 5]
 use Histogram Matching 
 prepro 
 set 
Use identity affine transform as initial affine para.
aff_init.IsNull()==1
Use identity affine transform as initial fixed affine para.
fixed_aff_init.IsNull()==1
Continue affine registration from the input
affine_opt.use_rotation_header = 0
affine_opt.ignore_void_orgin = 0
transform_initial: IsNotNull():0
OptAffine: metric_type=AffineWithMutualInformation
MI_bins=32 MI_samples=16000
number_of_seeds=0 time_seed=1547863169
number_of_levels=5
number_of_iteration_list=[10000,10000,10000,10000,10000]
graident_scales=[1,1,1,1,1,1,1,1,1,1,0.0001,0.0001,0.0001]
is_rigid = 0
mask null: 1
maximum_step_length=0.1
relaxation_factor=0.5
minimum_step_length=0.0001
translation_scales=0.0001
opt.transform_initial.IsNull(): 1
 opt.use_rotation_header: 0
 opt.ignore_void_orgin: 0
input affine center: [-3.65089, -41.2227, -9.85002]
input affine para: [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, -1.9468646041177737, 2.86156352360171, -2.88330419283713]
level 0, iter 118, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [-0.024821978837196227, 0.00012837563882019828, 0.04583689808465531, 0.9986404916987284, 1.0494808076890356, 0.964835618545535, 0.9579867137474117, 0.043915715140329784, -0.01453555960431024, 0.01507668658831767, -2.023859594139105, 1.5102714988828314, -1.8211693424937463]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 67, size: fix[32, 36, 32]-mov[45, 55, 45], affine para: [-0.02606372497752072, -0.003245723500949803, 0.04654988858050424, 0.9985706061127546, 1.0466532079163458, 0.9566597960680456, 0.9583362765866917, 0.04106787605457931, -0.011921924321592161, 0.008811464253680897, -1.9762784341156743, 1.571473098227863, -1.9611577201866806]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 115, size: fix[64, 71, 64]-mov[90, 110, 90], affine para: [-0.024603534739441244, -0.0019321340395142884, 0.0476322845659765, 0.9985600124195863, 1.043944000470567, 0.9488384276025985, 0.9619297244521028, 0.04380676006541336, -0.01575261285390535, 0.0026831895725295696, -1.990489591913815, 1.4200833690637913, -1.7183384608168657]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 242, size: fix[128, 142, 128]-mov[180, 220, 180], affine para: [-0.02976044002938797, -0.007829221400271022, 0.04691555065020381, 0.9984247345737739, 1.0516203019637784, 0.9534073111378164, 0.9667460641568326, 0.043797472401365924, -0.00955049596071546, 0.008702610592351234, -2.1122868130966914, 1.4531606538222606, -1.772266589294453]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 57, size: fix[256, 200, 256]-mov[256, 440, 256], affine para: [-0.030253737538125904, -0.00789872117488154, 0.0475731330736563, 0.9983782442432988, 1.0518206045255718, 0.9535565710693541, 0.9665662676730111, 0.04245757447680438, -0.010672384922765912, 0.009812738137035853, -2.1015753417349914, 1.4359628383328062, -1.89752768101822]
    reach oscillation, current step: 9.76563e-05<0.0001
A=1 0 0 
0 1 0 
0 0 1 

rotation R1 0 0 
0 1 0 
0 0 1 

upper R1 0 0 
0 1 0 
0 0 1 

s=0.25 u=0 v=0 w0 r=1
m_Rotation from vnl0 0 0 1
level 0, iter 250, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [0.029308084305044783, -0.00013135584196151298, -0.051598767294966374, 0.9982377402971954, 0.9704145769279339, 1.0219077099364338, 1.0303100601607273, -0.05275974732699186, 0.018607378897338857, -0.01830441607492731, 1.9841532541458924, -1.5276364552227304, 2.187662951832083]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 93, size: fix[45, 55, 45]-mov[32, 36, 32], affine para: [0.030774607523151937, -0.0007534981375369167, -0.04380687347984239, 0.9985656280927527, 0.9676860993907783, 1.0260189154646828, 1.0354517238103282, -0.0462153340236405, 0.020701099426078205, -0.01172351051389516, 1.7870469391634864, -1.4951070433417606, 2.7688407117215643]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 88, size: fix[90, 110, 90]-mov[64, 71, 64], affine para: [0.02595783651042079, -0.0020840589387901335, -0.04847603795575787, 0.9984848126867777, 0.9653601911767838, 1.0363621401516816, 1.0376568190249937, -0.059157782363899625, 0.021763277426334004, -0.005954545904820463, 1.622983469928941, -1.3592911734309496, 2.0321514852170446]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 227, size: fix[180, 220, 180]-mov[128, 142, 128], affine para: [0.02811821484576005, -0.0027201903423120385, -0.05041976246404999, 0.9983285101165137, 0.9594109515339938, 1.0499925807614459, 1.0309989428257336, -0.05988511280809865, 0.021117115682171575, 0.003317508387861125, 1.611681256000048, -2.0480858143610874, 1.863698473083732]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 413, size: fix[256, 440, 256]-mov[256, 200, 256], affine para: [0.029929114769084733, -0.0056415324399186105, -0.056766920296246616, 0.9979228116247008, 0.9650852392625581, 1.0510990975689767, 1.0273775321212284, -0.0645613061572784, 0.022109384404779442, -0.0005621891292317484, 1.6481089551590173, -2.0830459198217803, 1.9985882689302128]
    reach oscillation, current step: 9.76563e-05<0.0001
 v1 -0.336772 v2 -0.342461
 last params [-0.030253737538125904, -0.00789872117488154, 0.0475731330736563, 0.9983782442432988, 1.0518206045255718, 0.9535565710693541, 0.9665662676730111, 0.04245757447680438, -0.010672384922765912, 0.009812738137035853, -2.1015753417349914, 1.4359628383328062, -1.89752768101822]
 my params [0.029929114769084733, -0.0056415324399186105, -0.056766920296246616, 0.9979228116247008, 0.9650852392625581, 1.0510990975689767, 1.0273775321212284, -0.0645613061572784, 0.022109384404779442, -0.0005621891292317484, 1.6481089551590173, -2.0830459198217803, 1.9985882689302128]
A=1.03669 -0.0555604 -0.00959059 
0.107461 0.943517 0.0579855 
-0.014267 -0.0575187 0.971546 

rotation R0.994577 -0.103738 0.00738366 
0.103096 0.992782 0.0612806 
-0.0136875 -0.060187 0.998093 

upper R1.04234 0.0428007 -0.0168585 
0 0.945932 8.73702e-05 
0 0 0.973176 

s=0.250456 u=-0.0304223 v=0.00527739 w0.0518027 r=0.99818
m_Rotation from vnl-0.0304223 0.00527739 0.0518027 0.99818
 new params [-0.030422270687541896, 0.0052773897462985555, 0.05180270087882709, 0.998179901012507, 1.0423393922968207, 0.9459319233092808, 0.9731763951950094, 0.041062139872543146, -0.01617376211861472, 0.00009236419323290357, -1.8051405025997587, 1.6723924550346658, -2.0380215002640814]
outputput affine center: [-3.65089, -41.2227, -9.85002]
output affine para: [-0.030422270687541896, 0.0052773897462985555, 0.05180270087882709, 0.998179901012507, 1.0423393922968207, 0.9459319233092808, 0.9731763951950094, 0.041062139872543146, -0.01617376211861472, 0.00009236419323290357, -1.8051405025997587, 1.6723924550346658, -2.0380215002640814]
initial measure value (MMI): rval = -0.258054
final measure value (MMI): rval = -0.334175
finish affine registeration...
 Requested Transformation Model:  SyN : Using 
SyN diffeomorphic model for transformation. 
  Grad Step 0.5 total-smoothing 0.5 gradient-smoothing 3
 setting N-TimeSteps = 1 trunc 256
 Registration Done 
 begin writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON724_03272013/temp/deformation/linear
 writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON724_03272013/temp/deformation/linear affine 
AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON724_03272013/temp/deformation/linearAffine.txt
moving_image_filename: /array/ssd/msmajdi/code/general/RigidRegistration/MyCrop_Template2_Gap20.nii.gz components 1
output_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON724_03272013/temp/CropMask.nii.gz
reference_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON724_03272013/WMnMPRAGE_BsCr_PProcessed.nii.gz
[0/1]: AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ANON724_03272013/temp/deformation/linearAffine.txt
User Linear interpolation 
 You are doing something more complex -- we wont check syntax in this case 
output origin: [85.8923, 52.625, -110.267]
output size: [256, 200, 256]
output spacing: [0.7031, 1, 0.7031]
output direction: -1 0 0
0 -1 0
0 0 1

bounding box of label=1 : ImageRegion (0x7fff4eb28a20)
  Dimension: 3
  Index: [74, 71, 90]
  Size: [73, 44, 82]

padding radius = 0 : ImageRegion (0x7fff4eb28a20)
  Dimension: 3
  Index: [74, 71, 90]
  Size: [73, 44, 82]

crop with original image region ImageRegion (0x3164a98)
  Dimension: 3
  Index: [0, 0, 0]
  Size: [256, 200, 256]
 : ImageRegion (0x7fff4eb28a20)
  Dimension: 3
  Index: [74, 71, 90]
  Size: [73, 44, 82]

final cropped region: ImageRegion (0x7fff4eb28a20)
  Dimension: 3
  Index: [74, 71, 90]
  Size: [73, 44, 82]

terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x2b4be60): Inputs do not occupy the same physical space! 
InputImage Origin: [8.5892311e+01, 5.2625000e+01, -1.1026731e+02], InputImage_1 Origin: [8.5892303e+01, 5.2625000e+01, -1.1026730e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x27ae4f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.5892311e+01, 5.2625000e+01, -1.1026731e+02], InputImage_1 Origin: [8.5892303e+01, 5.2625000e+01, -1.1026730e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x18994f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.5892311e+01, 5.2625000e+01, -1.1026731e+02], InputImage_1 Origin: [8.5892303e+01, 5.2625000e+01, -1.1026730e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x35004f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.5892311e+01, 5.2625000e+01, -1.1026731e+02], InputImage_1 Origin: [8.5892303e+01, 5.2625000e+01, -1.1026730e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x161b4f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.5892311e+01, 5.2625000e+01, -1.1026731e+02], InputImage_1 Origin: [8.5892303e+01, 5.2625000e+01, -1.1026730e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x2fc94f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.5892311e+01, 5.2625000e+01, -1.1026731e+02], InputImage_1 Origin: [8.5892303e+01, 5.2625000e+01, -1.1026730e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x28ea4f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.5892311e+01, 5.2625000e+01, -1.1026731e+02], InputImage_1 Origin: [8.5892303e+01, 5.2625000e+01, -1.1026730e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x22a84f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.5892311e+01, 5.2625000e+01, -1.1026731e+02], InputImage_1 Origin: [8.5892303e+01, 5.2625000e+01, -1.1026730e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x220de60): Inputs do not occupy the same physical space! 
InputImage Origin: [8.5892311e+01, 5.2625000e+01, -1.1026731e+02], InputImage_1 Origin: [8.5892303e+01, 5.2625000e+01, -1.1026730e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x18544f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.5892311e+01, 5.2625000e+01, -1.1026731e+02], InputImage_1 Origin: [8.5892303e+01, 5.2625000e+01, -1.1026730e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x1867e60): Inputs do not occupy the same physical space! 
InputImage Origin: [8.5892311e+01, 5.2625000e+01, -1.1026731e+02], InputImage_1 Origin: [8.5892303e+01, 5.2625000e+01, -1.1026730e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x335e4f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.5892311e+01, 5.2625000e+01, -1.1026731e+02], InputImage_1 Origin: [8.5892303e+01, 5.2625000e+01, -1.1026730e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x182ae60): Inputs do not occupy the same physical space! 
InputImage Origin: [8.5892311e+01, 5.2625000e+01, -1.1026731e+02], InputImage_1 Origin: [8.5892303e+01, 5.2625000e+01, -1.1026730e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
 Run Reg 
 values 1
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_902_07052013_SI/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
Metric 0:  Not a Point-set
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_902_07052013_SI/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
  similarity metric weight: 1
  Radius: [5, 5, 5]
  radius: [5, 5, 5]
 use Histogram Matching 
 prepro 
 set 
Use identity affine transform as initial affine para.
aff_init.IsNull()==1
Use identity affine transform as initial fixed affine para.
fixed_aff_init.IsNull()==1
Continue affine registration from the input
affine_opt.use_rotation_header = 0
affine_opt.ignore_void_orgin = 0
transform_initial: IsNotNull():0
OptAffine: metric_type=AffineWithMutualInformation
MI_bins=32 MI_samples=16000
number_of_seeds=0 time_seed=1547863202
number_of_levels=5
number_of_iteration_list=[10000,10000,10000,10000,10000]
graident_scales=[1,1,1,1,1,1,1,1,1,1,0.0001,0.0001,0.0001]
is_rigid = 0
mask null: 1
maximum_step_length=0.1
relaxation_factor=0.5
minimum_step_length=0.0001
translation_scales=0.0001
opt.transform_initial.IsNull(): 1
 opt.use_rotation_header: 0
 opt.ignore_void_orgin: 0
input affine center: [-4.005, -43.9936, -28.5578]
input affine para: [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, -1.5369082368870908, 5.991404836487646, 16.85657611346703]
level 0, iter 255, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [0.08881416644891592, 0.003009662675017923, 0.005411425523770862, 0.9960289665679245, 0.9886023612142231, 0.9801011435820878, 1.0119296423831377, -0.024994740040299022, 0.029893075425358386, 0.03493407279052009, -2.1277562107789603, 2.387671296663554, 12.310632750049066]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 151, size: fix[45, 53, 45]-mov[45, 55, 45], affine para: [0.10293036912376093, 0.0030206013888699618, 0.0027567056566123564, 0.994680157464307, 0.9892698698301006, 0.9882937921594156, 1.0237485382575098, -0.030360209277014247, 0.03162247135618765, 0.03348450043062101, -1.8993154724420755, 2.0012273448744553, 11.380154204754147]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 214, size: fix[90, 105, 90]-mov[90, 110, 90], affine para: [0.10865471306465994, 0.003053571391885092, 0.011265689513358747, 0.994011022710704, 0.9939483420682069, 0.9909572969608154, 1.029904541921369, -0.02405253786430162, 0.0305393936593462, 0.030252678556063065, -1.9676148922709207, 2.130239472027798, 10.799815184908049]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 178, size: fix[180, 210, 180]-mov[180, 220, 180], affine para: [0.1079743713153338, 0.002154978459168333, 0.007672765497523505, 0.994121732926365, 0.9941701807288276, 0.9991985152458464, 1.0377992400713212, -0.026090042110368125, 0.03418494902219762, 0.03086134492287344, -1.954651544866099, 1.8295554297609082, 10.53252968469589]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 262, size: fix[256, 420, 256]-mov[256, 440, 256], affine para: [0.10830076307055643, 0.0003485201297932795, 0.01158789225710957, 0.9940505741686848, 0.9943275678657509, 0.9985695685403638, 1.0357760236502553, -0.026024208496359884, 0.0328619555553428, 0.032839062418649395, -2.022313381124333, 1.5653373899543899, 10.230706488327588]
    reach oscillation, current step: 9.76563e-05<0.0001
A=1 0 0 
0 1 0 
0 0 1 

rotation R1 0 0 
0 1 0 
0 0 1 

upper R1 0 0 
0 1 0 
0 0 1 

s=0.25 u=0 v=0 w0 r=1
m_Rotation from vnl0 0 0 1
level 0, iter 167, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [-0.08955038590071021, -0.0027300528650038695, 0.0005707330442159206, 0.995978388048747, 1.0210577764292899, 1.018092916725092, 0.9548705630233151, 0.03232976330535374, -0.025468736209826086, -0.026024305906064887, 2.22593120337935, -3.380009274769143, -9.835455086098246]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 78, size: fix[45, 55, 45]-mov[45, 53, 45], affine para: [-0.09973906445556903, -0.0008626934237137685, -0.006680556030270256, 0.9949908265671151, 1.0173142257155665, 1.014622280541731, 0.9531553592536524, 0.033038608414024, -0.032518046774272065, -0.018345444984263964, 2.2872707709572446, -3.6270371499068155, -9.392922584399468]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 100, size: fix[90, 110, 90]-mov[90, 105, 90], affine para: [-0.11006802995290911, 0.0035120439363904615, -0.009946485217829917, 0.9938680806633674, 1.010441150394115, 1.0078378696131394, 0.9506669381235795, 0.03289780534887465, -0.034510323012132964, -0.012945681508627968, 2.3615460854188135, -3.92922705360385, -9.159947180018765]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 3808, size: fix[180, 220, 180]-mov[180, 210, 180], affine para: [-0.11230020286504411, -0.007418732117348437, -0.011068062963075958, 0.9935849862153143, 1.010700242609609, 1.0068501527024665, 0.9483448832853819, 0.022622343425187607, -0.020092716677711522, -0.003918043976163631, 1.920034854352684, -3.6923215911007157, -9.331902251492865]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 2631, size: fix[256, 440, 256]-mov[256, 420, 256], affine para: [-0.11106530757317443, -0.00148662188436073, -0.014863605053751982, 0.993700840622496, 1.0138687963297761, 1.007677288901594, 0.9630697547999496, 0.030524985469490642, -0.03493030140218422, -0.014328987547545895, 1.970553223699217, -3.8443202856526404, -9.53226653514679]
    reach oscillation, current step: 9.76563e-05<0.0001
 v1 -0.249622 v2 -0.246952
final [0.10830076307055643, 0.0003485201297932795, 0.01158789225710957, 0.9940505741686848, 0.9943275678657509, 0.9985695685403638, 1.0357760236502553, -0.026024208496359884, 0.0328619555553428, 0.032839062418649395, -2.022313381124333, 1.5653373899543899, 10.230706488327588]
outputput affine center: [-4.005, -43.9936, -28.5578]
output affine para: [0.10830076307055643, 0.0003485201297932795, 0.01158789225710957, 0.9940505741686848, 0.9943275678657509, 0.9985695685403638, 1.0357760236502553, -0.026024208496359884, 0.0328619555553428, 0.032839062418649395, -2.022313381124333, 1.5653373899543899, 10.230706488327588]
initial measure value (MMI): rval = -0.161347
final measure value (MMI): rval = -0.256577
finish affine registeration...
 Requested Transformation Model:  SyN : Using 
SyN diffeomorphic model for transformation. 
  Grad Step 0.5 total-smoothing 0.5 gradient-smoothing 3
 setting N-TimeSteps = 1 trunc 256
 Registration Done 
 begin writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_902_07052013_SI/temp/deformation/linear
 writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_902_07052013_SI/temp/deformation/linear affine 
AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_902_07052013_SI/temp/deformation/linearAffine.txt
moving_image_filename: /array/ssd/msmajdi/code/general/RigidRegistration/MyCrop_Template2_Gap20.nii.gz components 1
output_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_902_07052013_SI/temp/CropMask.nii.gz
reference_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_902_07052013_SI/WMnMPRAGE_BsCr_PProcessed.nii.gz
[0/1]: AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_902_07052013_SI/temp/deformation/linearAffine.txt
User Linear interpolation 
 You are doing something more complex -- we wont check syntax in this case 
output origin: [86.1234, 54.822, -120.154]
output size: [256, 420, 256]
output spacing: [0.7031, 0.5, 0.7031]
output direction: -1 0 0
0 -1 0
0 0 1

bounding box of label=1 : ImageRegion (0x7fff2e150ad0)
  Dimension: 3
  Index: [70, 147, 86]
  Size: [78, 85, 81]

padding radius = 0 : ImageRegion (0x7fff2e150ad0)
  Dimension: 3
  Index: [70, 147, 86]
  Size: [78, 85, 81]

crop with original image region ImageRegion (0x32a0ac8)
  Dimension: 3
  Index: [0, 0, 0]
  Size: [256, 420, 256]
 : ImageRegion (0x7fff2e150ad0)
  Dimension: 3
  Index: [70, 147, 86]
  Size: [78, 85, 81]

final cropped region: ImageRegion (0x7fff2e150ad0)
  Dimension: 3
  Index: [70, 147, 86]
  Size: [78, 85, 81]

terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x17b7fd0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.6123413e+01, 5.4822006e+01, -1.2015381e+02], InputImage_1 Origin: [8.6123405e+01, 5.4822006e+01, -1.2015380e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x35ab2f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.6123413e+01, 5.4822006e+01, -1.2015381e+02], InputImage_1 Origin: [8.6123405e+01, 5.4822006e+01, -1.2015380e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x23242f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.6123413e+01, 5.4822006e+01, -1.2015381e+02], InputImage_1 Origin: [8.6123405e+01, 5.4822006e+01, -1.2015380e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x28852f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.6123413e+01, 5.4822006e+01, -1.2015381e+02], InputImage_1 Origin: [8.6123405e+01, 5.4822006e+01, -1.2015380e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x29cd2f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.6123413e+01, 5.4822006e+01, -1.2015381e+02], InputImage_1 Origin: [8.6123405e+01, 5.4822006e+01, -1.2015380e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x23f02f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.6123413e+01, 5.4822006e+01, -1.2015381e+02], InputImage_1 Origin: [8.6123405e+01, 5.4822006e+01, -1.2015380e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x31da2f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.6123413e+01, 5.4822006e+01, -1.2015381e+02], InputImage_1 Origin: [8.6123405e+01, 5.4822006e+01, -1.2015380e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x1d4f2f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.6123413e+01, 5.4822006e+01, -1.2015381e+02], InputImage_1 Origin: [8.6123405e+01, 5.4822006e+01, -1.2015380e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x342f2f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.6123413e+01, 5.4822006e+01, -1.2015381e+02], InputImage_1 Origin: [8.6123405e+01, 5.4822006e+01, -1.2015380e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x2a2d2f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.6123413e+01, 5.4822006e+01, -1.2015381e+02], InputImage_1 Origin: [8.6123405e+01, 5.4822006e+01, -1.2015380e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x2c342f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.6123413e+01, 5.4822006e+01, -1.2015381e+02], InputImage_1 Origin: [8.6123405e+01, 5.4822006e+01, -1.2015380e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x1d0b2f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.6123413e+01, 5.4822006e+01, -1.2015381e+02], InputImage_1 Origin: [8.6123405e+01, 5.4822006e+01, -1.2015380e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x21702f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.6123413e+01, 5.4822006e+01, -1.2015381e+02], InputImage_1 Origin: [8.6123405e+01, 5.4822006e+01, -1.2015380e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
 Run Reg 
 values 1
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_911_07082013_TTO/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
Metric 0:  Not a Point-set
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_911_07082013_TTO/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
  similarity metric weight: 1
  Radius: [5, 5, 5]
  radius: [5, 5, 5]
 use Histogram Matching 
 prepro 
 set 
Use identity affine transform as initial affine para.
aff_init.IsNull()==1
Use identity affine transform as initial fixed affine para.
fixed_aff_init.IsNull()==1
Continue affine registration from the input
affine_opt.use_rotation_header = 0
affine_opt.ignore_void_orgin = 0
transform_initial: IsNotNull():0
OptAffine: metric_type=AffineWithMutualInformation
MI_bins=32 MI_samples=16000
number_of_seeds=0 time_seed=1547863289
number_of_levels=5
number_of_iteration_list=[10000,10000,10000,10000,10000]
graident_scales=[1,1,1,1,1,1,1,1,1,1,0.0001,0.0001,0.0001]
is_rigid = 0
mask null: 1
maximum_step_length=0.1
relaxation_factor=0.5
minimum_step_length=0.0001
translation_scales=0.0001
opt.transform_initial.IsNull(): 1
 opt.use_rotation_header: 0
 opt.ignore_void_orgin: 0
input affine center: [-10.4006, -49.9896, 0.0263353]
input affine para: [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 4.838830174259002, 11.863925494496073, -12.207414434976846]
level 0, iter 110, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [-0.0696106109291062, 0.00997352405395548, 0.0007275114804178958, 0.9975241161952265, 0.9756300389929292, 0.9454449421621629, 0.9553477545264142, 0.0009350865152720805, 0.007299491988207174, 0.018107642657430995, 6.295169912657073, 10.934267653084648, -13.24896468954113]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 108, size: fix[45, 50, 45]-mov[45, 55, 45], affine para: [-0.07276471737030706, 0.010334978556607862, 0.0012672890631883096, 0.9972947799435652, 0.9660634694708037, 0.9355795292696794, 0.9675988092432796, -0.0016205893257350596, 0.007707634068713283, 0.005440084026216777, 6.02042239636989, 10.898037678732216, -12.914402522175536]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 153, size: fix[90, 100, 90]-mov[90, 110, 90], affine para: [-0.0789209461637773, 0.0160180908186416, 0.005546507752399401, 0.9967367462248458, 0.9621522440184345, 0.9275183831848348, 0.9738629845977249, 0.008916679063569796, 0.012452017206692562, -0.007041504742649705, 6.446512143900523, 10.470569648183009, -13.208138687608386]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 237, size: fix[180, 200, 180]-mov[180, 220, 180], affine para: [-0.07946794991693384, 0.015361540974969591, 0.00942796799033697, 0.996674461102745, 0.9539430577046286, 0.920810161873968, 0.9734612305856676, 0.0030927574079054687, 0.006845111470916112, -0.009525460842430904, 6.542125904936201, 10.479063164960332, -13.403390003963011]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 57, size: fix[256, 400, 256]-mov[256, 440, 256], affine para: [-0.07661627836251456, 0.016417955405674076, 0.008118445749002352, 0.9968924151927305, 0.9523415646741631, 0.9193960414689722, 0.9742396670644535, 0.0038324802235064886, 0.006399689338269329, -0.011302598259553053, 6.4551474884535285, 10.407618747768362, -13.150804060871302]
    reach oscillation, current step: 9.76563e-05<0.0001
A=1 0 0 
0 1 0 
0 0 1 

rotation R1 0 0 
0 1 0 
0 0 1 

upper R1 0 0 
0 1 0 
0 0 1 

s=0.25 u=0 v=0 w0 r=1
m_Rotation from vnl0 0 0 1
level 0, iter 221, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [0.07235659671093625, -0.008766542981276933, 0.0030303489973390464, 0.9973356945489932, 1.0448856880792787, 1.0564820502051122, 1.0345388710826018, 0.00621419576801582, -0.007034938857725304, -0.014945459991359374, -7.091235709003771, -13.466002138013353, 12.23548039941143]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 71, size: fix[45, 55, 45]-mov[45, 50, 45], affine para: [0.07284615273880322, -0.008746245387169489, -0.0008235297652911533, 0.997304498646982, 1.0435396768891023, 1.0754686587887474, 1.0279329685121776, -0.0006718239096257745, -0.011605215775913941, -0.010453305402569363, -6.830777970543263, -13.389590272198905, 11.975497111950096]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 156, size: fix[90, 110, 90]-mov[90, 100, 90], affine para: [0.0750781296975918, -0.012030627031262592, -0.007028602023070111, 0.997080306298318, 1.0494220343550293, 1.0842529168593953, 1.0256284035451348, -0.004549034656991705, -0.012664012206391588, -0.006260398193321948, -7.163943813104885, -12.975044164347581, 11.843333514796612]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 230, size: fix[180, 220, 180]-mov[180, 200, 180], affine para: [0.0720611059076611, -0.018255495366659394, -0.007212264476469324, 0.9972070583110632, 1.0487176044517654, 1.090909866562901, 1.0259214446074933, 0.0009905076870424243, 0.00044155478286646527, -0.002732015999329461, -7.423848528214117, -12.900346392100149, 11.630565147440588]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 1187, size: fix[256, 440, 256]-mov[256, 400, 256], affine para: [0.07221180371847254, -0.0065479536622966615, -0.010976542254552805, 0.9973074226268925, 1.05773456195163, 1.0933729339464173, 1.0132506711785234, -0.005226319640862919, -0.014395646162791476, 0.005248931424112025, -7.153376449155818, -12.43121020655124, 11.962766299498272]
    reach oscillation, current step: 9.76563e-05<0.0001
 v1 -0.262203 v2 -0.282506
 last params [-0.07661627836251456, 0.016417955405674076, 0.008118445749002352, 0.9968924151927305, 0.9523415646741631, 0.9193960414689722, 0.9742396670644535, 0.0038324802235064886, 0.006399689338269329, -0.011302598259553053, 6.4551474884535285, 10.407618747768362, -13.150804060871302]
 my params [0.07221180371847254, -0.0065479536622966615, -0.010976542254552805, 0.9973074226268925, 1.05773456195163, 1.0933729339464173, 1.0132506711785234, -0.005226319640862919, -0.014395646162791476, 0.005248931424112025, -7.153376449155818, -12.43121020655124, 11.962766299498272]
A=0.945 -0.0189044 0.0255694 
0.0192352 0.905588 0.12674 
-0.0144544 -0.142009 0.976545 

rotation R0.999676 -0.0224726 0.0119512 
0.0203481 0.987681 0.155154 
-0.0152907 -0.15486 0.987818 

upper R0.945307 0.00170012 0.013208 
0 0.916848 -0.026624 
0 0 0.984619 

s=0.250779 u=-0.0777451 v=0.00683171 w0.0107386 r=0.996892
m_Rotation from vnl-0.0777451 0.00683171 0.0107386 0.996892
 new params [-0.07774511081839358, 0.006831705496755911, 0.010738561602826989, 0.996892024663927, 0.9453065970747223, 0.9168478427172122, 0.9846188128614698, 0.001798487859430312, 0.013972166962456657, -0.02903864128253519, 6.219057699263101, 9.87898546103359, -13.550927709965611]
outputput affine center: [-10.4006, -49.9896, 0.0263353]
output affine para: [-0.07774511081839358, 0.006831705496755911, 0.010738561602826989, 0.996892024663927, 0.9453065970747223, 0.9168478427172122, 0.9846188128614698, 0.001798487859430312, 0.013972166962456657, -0.02903864128253519, 6.219057699263101, 9.87898546103359, -13.550927709965611]
initial measure value (MMI): rval = -0.154193
final measure value (MMI): rval = -0.285668
finish affine registeration...
 Requested Transformation Model:  SyN : Using 
SyN diffeomorphic model for transformation. 
  Grad Step 0.5 total-smoothing 0.5 gradient-smoothing 3
 setting N-TimeSteps = 1 trunc 256
 Registration Done 
 begin writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_911_07082013_TTO/temp/deformation/linear
 writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_911_07082013_TTO/temp/deformation/linear affine 
AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_911_07082013_TTO/temp/deformation/linearAffine.txt
moving_image_filename: /array/ssd/msmajdi/code/general/RigidRegistration/MyCrop_Template2_Gap20.nii.gz components 1
output_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_911_07082013_TTO/temp/CropMask.nii.gz
reference_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_911_07082013_TTO/WMnMPRAGE_BsCr_PProcessed.nii.gz
[0/1]: AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_911_07082013_TTO/temp/deformation/linearAffine.txt
User Linear interpolation 
 You are doing something more complex -- we wont check syntax in this case 
output origin: [76.4755, 46.267, -102.889]
output size: [256, 400, 256]
output spacing: [0.7031, 0.5, 0.7031]
output direction: -1 0 0
0 -1 0
0 0 1

bounding box of label=1 : ImageRegion (0x7ffe4f7da190)
  Dimension: 3
  Index: [66, 142, 96]
  Size: [81, 88, 84]

padding radius = 0 : ImageRegion (0x7ffe4f7da190)
  Dimension: 3
  Index: [66, 142, 96]
  Size: [81, 88, 84]

crop with original image region ImageRegion (0x35a4b28)
  Dimension: 3
  Index: [0, 0, 0]
  Size: [256, 400, 256]
 : ImageRegion (0x7ffe4f7da190)
  Dimension: 3
  Index: [66, 142, 96]
  Size: [81, 88, 84]

final cropped region: ImageRegion (0x7ffe4f7da190)
  Dimension: 3
  Index: [66, 142, 96]
  Size: [81, 88, 84]

terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x2894fd0): Inputs do not occupy the same physical space! 
InputImage Origin: [7.6475510e+01, 4.6266998e+01, -1.0288861e+02], InputImage_1 Origin: [7.6475502e+01, 4.6266998e+01, -1.0288860e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x35532f0): Inputs do not occupy the same physical space! 
InputImage Origin: [7.6475510e+01, 4.6266998e+01, -1.0288861e+02], InputImage_1 Origin: [7.6475502e+01, 4.6266998e+01, -1.0288860e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x34552f0): Inputs do not occupy the same physical space! 
InputImage Origin: [7.6475510e+01, 4.6266998e+01, -1.0288861e+02], InputImage_1 Origin: [7.6475502e+01, 4.6266998e+01, -1.0288860e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x341f2f0): Inputs do not occupy the same physical space! 
InputImage Origin: [7.6475510e+01, 4.6266998e+01, -1.0288861e+02], InputImage_1 Origin: [7.6475502e+01, 4.6266998e+01, -1.0288860e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x31182f0): Inputs do not occupy the same physical space! 
InputImage Origin: [7.6475510e+01, 4.6266998e+01, -1.0288861e+02], InputImage_1 Origin: [7.6475502e+01, 4.6266998e+01, -1.0288860e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x18a22f0): Inputs do not occupy the same physical space! 
InputImage Origin: [7.6475510e+01, 4.6266998e+01, -1.0288861e+02], InputImage_1 Origin: [7.6475502e+01, 4.6266998e+01, -1.0288860e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x1edd2f0): Inputs do not occupy the same physical space! 
InputImage Origin: [7.6475510e+01, 4.6266998e+01, -1.0288861e+02], InputImage_1 Origin: [7.6475502e+01, 4.6266998e+01, -1.0288860e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x32c52f0): Inputs do not occupy the same physical space! 
InputImage Origin: [7.6475510e+01, 4.6266998e+01, -1.0288861e+02], InputImage_1 Origin: [7.6475502e+01, 4.6266998e+01, -1.0288860e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x35272f0): Inputs do not occupy the same physical space! 
InputImage Origin: [7.6475510e+01, 4.6266998e+01, -1.0288861e+02], InputImage_1 Origin: [7.6475502e+01, 4.6266998e+01, -1.0288860e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x190d2f0): Inputs do not occupy the same physical space! 
InputImage Origin: [7.6475510e+01, 4.6266998e+01, -1.0288861e+02], InputImage_1 Origin: [7.6475502e+01, 4.6266998e+01, -1.0288860e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x2cf2fd0): Inputs do not occupy the same physical space! 
InputImage Origin: [7.6475510e+01, 4.6266998e+01, -1.0288861e+02], InputImage_1 Origin: [7.6475502e+01, 4.6266998e+01, -1.0288860e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x195d2f0): Inputs do not occupy the same physical space! 
InputImage Origin: [7.6475510e+01, 4.6266998e+01, -1.0288861e+02], InputImage_1 Origin: [7.6475502e+01, 4.6266998e+01, -1.0288860e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x1fe12f0): Inputs do not occupy the same physical space! 
InputImage Origin: [7.6475510e+01, 4.6266998e+01, -1.0288861e+02], InputImage_1 Origin: [7.6475502e+01, 4.6266998e+01, -1.0288860e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
 Run Reg 
 values 1
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_920_07122013_SW/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
Metric 0:  Not a Point-set
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_920_07122013_SW/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
  similarity metric weight: 1
  Radius: [5, 5, 5]
  radius: [5, 5, 5]
 use Histogram Matching 
 prepro 
 set 
Use identity affine transform as initial affine para.
aff_init.IsNull()==1
Use identity affine transform as initial fixed affine para.
fixed_aff_init.IsNull()==1
Continue affine registration from the input
affine_opt.use_rotation_header = 0
affine_opt.ignore_void_orgin = 0
transform_initial: IsNotNull():0
OptAffine: metric_type=AffineWithMutualInformation
MI_bins=32 MI_samples=16000
number_of_seeds=0 time_seed=1547863339
number_of_levels=5
number_of_iteration_list=[10000,10000,10000,10000,10000]
graident_scales=[1,1,1,1,1,1,1,1,1,1,0.0001,0.0001,0.0001]
is_rigid = 0
mask null: 1
maximum_step_length=0.1
relaxation_factor=0.5
minimum_step_length=0.0001
translation_scales=0.0001
opt.transform_initial.IsNull(): 1
 opt.use_rotation_header: 0
 opt.ignore_void_orgin: 0
input affine center: [-7.39426, -40.9927, 4.14748]
input affine para: [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1.8555814750518467, 3.018708339486814, -15.916587120926634]
level 0, iter 104, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [-0.01591667399865743, 0.03704109305848206, 0.04262572233967863, 0.9982773485904977, 1.024216233581359, 1.0016596277389507, 0.9799159586114592, 0.002904246545494598, 0.011669586545892114, 0.023697514209169292, 2.9876528961663213, 1.1818972922851407, -18.09404044295061]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 23, size: fix[45, 50, 45]-mov[45, 55, 45], affine para: [-0.017178183740436555, 0.03714901492406369, 0.0436110147833243, 0.9982098677548326, 1.0219135366631291, 0.9960294299184789, 0.9762633940001751, 0.004514362427504481, 0.009477706206153229, 0.02437603807986174, 2.9277178873885097, 0.809034426742945, -18.402133276838345]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 141, size: fix[90, 100, 90]-mov[90, 110, 90], affine para: [-0.017428304932106585, 0.0373538362880739, 0.04990493697591453, 0.9979030225263312, 1.0169615934138851, 0.9934303539768565, 0.977042658368275, 0.006487082486213079, 0.013512215461159417, 0.023158970804362917, 3.123445001421266, 0.40558124010680924, -18.58628742217818]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 330, size: fix[180, 200, 180]-mov[180, 220, 180], affine para: [-0.01443687872449637, 0.041226648312794476, 0.04508940569700279, 0.9980274973644155, 1.0140843896993832, 0.994117242540199, 0.9786235961219636, 0.002432959176017989, 0.005335217724356492, 0.023984996950871793, 3.1031966550182073, 0.2175285502280291, -18.567206956120653]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 135, size: fix[256, 400, 256]-mov[256, 440, 256], affine para: [-0.016935531596887547, 0.04249686015907269, 0.0441420339580228, 0.9979772970785457, 1.0126226052126353, 0.9914611323969574, 0.9769495250234818, 0.0007540807925806934, 0.010224058460447442, 0.02748417053546625, 3.348208861896241, 0.2504002623074443, -18.332157442650693]
    reach oscillation, current step: 9.76563e-05<0.0001
A=1 0 0 
0 1 0 
0 0 1 

rotation R1 0 0 
0 1 0 
0 0 1 

upper R1 0 0 
0 1 0 
0 0 1 

s=0.25 u=0 v=0 w0 r=1
m_Rotation from vnl0 0 0 1
level 0, iter 163, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [0.014362956247196702, -0.03923175225444682, -0.043525412477270764, 0.9981783976682577, 0.9844412839024964, 0.9960730262633475, 1.0162281963499715, -0.009037991373343905, 0.0009640015588549642, -0.026701371690400294, -4.534816748476581, -1.699146213454518, 18.749728516731142]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 19, size: fix[45, 55, 45]-mov[45, 50, 45], affine para: [0.01435423645096036, -0.03888869508897861, -0.04463769312337549, 0.9981428262742811, 0.9873902731216003, 1.0020387060544065, 1.0173062578261773, -0.00837880557155646, 0.0021800245007693015, -0.0289399941421219, -4.457359433398968, -1.3439307638425848, 18.686247890259587]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 126, size: fix[90, 110, 90]-mov[90, 100, 90], affine para: [0.017043030389259948, -0.04014759605962735, -0.04702391397885057, 0.9979411090640036, 0.9883949129631452, 1.0043070330624593, 1.0195450603522922, -0.006212243169867773, -0.005110903578630457, -0.03185355656600574, -5.095931935762689, -1.5381742762522066, 18.53892597530624]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 158, size: fix[180, 220, 180]-mov[180, 200, 180], affine para: [0.01868933582925123, -0.044892603198270695, -0.050692508115777406, 0.9975297652327353, 0.990416906556468, 1.0064002480424938, 1.0115803273205302, -0.010289973553901979, 0.0037075072880556016, -0.025403266463672188, -5.066837553385062, -1.2025746493642913, 18.65310418175783]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 104, size: fix[256, 440, 256]-mov[256, 400, 256], affine para: [0.02146386143713587, -0.0438590214396729, -0.05458089259090977, 0.9973147021149047, 0.9867705472572463, 1.0069444339178846, 1.014693240921532, -0.015379943379149648, -0.001622375572825947, -0.020511575479468514, -5.247724372530927, -1.2686470468303126, 19.03020501078312]
    reach oscillation, current step: 9.76563e-05<0.0001
 v1 -0.307686 v2 -0.307839
 last params [-0.016935531596887547, 0.04249686015907269, 0.0441420339580228, 0.9979772970785457, 1.0126226052126353, 0.9914611323969574, 0.9769495250234818, 0.0007540807925806934, 0.010224058460447442, 0.02748417053546625, 3.348208861896241, 0.2504002623074443, -18.332157442650693]
 my params [0.02146386143713587, -0.0438590214396729, -0.05458089259090977, 0.9973147021149047, 0.9867705472572463, 1.0069444339178846, 1.014693240921532, -0.015379943379149648, -0.001622375572825947, -0.020511575479468514, -5.247724372530927, -1.2686470468303126, 19.03020501078312]
A=1.00493 -0.0971401 0.0889086 
0.104432 0.985503 0.0673901 
-0.0885248 -0.0374741 0.98082 

rotation R0.990848 -0.106522 0.0829103 
0.102969 0.993619 0.0460264 
-0.0872841 -0.037068 0.995494 

upper R1.01422 0.00849569 0.009424 
0 0.990951 0.0211323 
0 0 0.986873 

s=0.250629 u=-0.0208258 v=0.0426556 w0.0525043 r=0.997492
m_Rotation from vnl-0.0208258 0.0426556 0.0525043 0.997492
 new params [-0.020825831154056788, 0.04265557145178757, 0.052504308148681414, 0.9974918970130497, 1.0142150273513404, 0.9909510141776675, 0.98687312227965, 0.008376619596490822, 0.009291916483510404, 0.021325286974829962, 3.4584231194292414, 0.5158401298631718, -19.177300020295014]
outputput affine center: [-7.39426, -40.9927, 4.14748]
output affine para: [-0.020825831154056788, 0.04265557145178757, 0.052504308148681414, 0.9974918970130497, 1.0142150273513404, 0.9909510141776675, 0.98687312227965, 0.008376619596490822, 0.009291916483510404, 0.021325286974829962, 3.4584231194292414, 0.5158401298631718, -19.177300020295014]
initial measure value (MMI): rval = -0.199366
final measure value (MMI): rval = -0.331189
finish affine registeration...
 Requested Transformation Model:  SyN : Using 
SyN diffeomorphic model for transformation. 
  Grad Step 0.5 total-smoothing 0.5 gradient-smoothing 3
 setting N-TimeSteps = 1 trunc 256
 Registration Done 
 begin writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_920_07122013_SW/temp/deformation/linear
 writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_920_07122013_SW/temp/deformation/linear affine 
AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_920_07122013_SW/temp/deformation/linearAffine.txt
moving_image_filename: /array/ssd/msmajdi/code/general/RigidRegistration/MyCrop_Template2_Gap20.nii.gz components 1
output_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_920_07122013_SW/temp/CropMask.nii.gz
reference_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_920_07122013_SW/WMnMPRAGE_BsCr_PProcessed.nii.gz
[0/1]: AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/20priors_vimp_ctrl_920_07122013_SW/temp/deformation/linearAffine.txt
User Linear interpolation 
 You are doing something more complex -- we wont check syntax in this case 
output origin: [89.3188, 51.207, -85.3576]
output size: [256, 400, 256]
output spacing: [0.7031, 0.499627, 0.7031]
output direction: -0.997744 -0.0494599 -0.0453891
0.0495109 -0.998774 -8.56447e-10
-0.0453334 -0.00224726 0.998969

bounding box of label=1 : ImageRegion (0x7ffc8d3c8870)
  Dimension: 3
  Index: [71, 150, 86]
  Size: [77, 78, 82]

padding radius = 0 : ImageRegion (0x7ffc8d3c8870)
  Dimension: 3
  Index: [71, 150, 86]
  Size: [77, 78, 82]

crop with original image region ImageRegion (0x3215ac8)
  Dimension: 3
  Index: [0, 0, 0]
  Size: [256, 400, 256]
 : ImageRegion (0x7ffc8d3c8870)
  Dimension: 3
  Index: [71, 150, 86]
  Size: [77, 78, 82]

final cropped region: ImageRegion (0x7ffc8d3c8870)
  Dimension: 3
  Index: [71, 150, 86]
  Size: [77, 78, 82]

terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x18da000): Inputs do not occupy the same physical space! 
InputImage Origin: [8.9318916e+01, 5.1203903e+01, -8.5357353e+01], InputImage_1 Origin: [8.9318787e+01, 5.1206963e+01, -8.5357582e+01]
	Tolerance: 7.0309991e-07
InputImage Spacing: [7.0309991e-01, 4.9961999e-01, 7.0309979e-01], InputImage_1 Spacing: [7.0310003e-01, 4.9962729e-01, 7.0310003e-01]
	Tolerance: 7.0309991e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x27589a0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.9318916e+01, 5.1203903e+01, -8.5357353e+01], InputImage_1 Origin: [8.9318787e+01, 5.1206963e+01, -8.5357582e+01]
	Tolerance: 7.0309991e-07
InputImage Spacing: [7.0309991e-01, 4.9961999e-01, 7.0309979e-01], InputImage_1 Spacing: [7.0310003e-01, 4.9962729e-01, 7.0310003e-01]
	Tolerance: 7.0309991e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x21379a0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.9318916e+01, 5.1203903e+01, -8.5357353e+01], InputImage_1 Origin: [8.9318787e+01, 5.1206963e+01, -8.5357582e+01]
	Tolerance: 7.0309991e-07
InputImage Spacing: [7.0309991e-01, 4.9961999e-01, 7.0309979e-01], InputImage_1 Spacing: [7.0310003e-01, 4.9962729e-01, 7.0310003e-01]
	Tolerance: 7.0309991e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x175e9a0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.9318916e+01, 5.1203903e+01, -8.5357353e+01], InputImage_1 Origin: [8.9318787e+01, 5.1206963e+01, -8.5357582e+01]
	Tolerance: 7.0309991e-07
InputImage Spacing: [7.0309991e-01, 4.9961999e-01, 7.0309979e-01], InputImage_1 Spacing: [7.0310003e-01, 4.9962729e-01, 7.0310003e-01]
	Tolerance: 7.0309991e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x1cb39a0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.9318916e+01, 5.1203903e+01, -8.5357353e+01], InputImage_1 Origin: [8.9318787e+01, 5.1206963e+01, -8.5357582e+01]
	Tolerance: 7.0309991e-07
InputImage Spacing: [7.0309991e-01, 4.9961999e-01, 7.0309979e-01], InputImage_1 Spacing: [7.0310003e-01, 4.9962729e-01, 7.0310003e-01]
	Tolerance: 7.0309991e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x17969a0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.9318916e+01, 5.1203903e+01, -8.5357353e+01], InputImage_1 Origin: [8.9318787e+01, 5.1206963e+01, -8.5357582e+01]
	Tolerance: 7.0309991e-07
InputImage Spacing: [7.0309991e-01, 4.9961999e-01, 7.0309979e-01], InputImage_1 Spacing: [7.0310003e-01, 4.9962729e-01, 7.0310003e-01]
	Tolerance: 7.0309991e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x29889a0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.9318916e+01, 5.1203903e+01, -8.5357353e+01], InputImage_1 Origin: [8.9318787e+01, 5.1206963e+01, -8.5357582e+01]
	Tolerance: 7.0309991e-07
InputImage Spacing: [7.0309991e-01, 4.9961999e-01, 7.0309979e-01], InputImage_1 Spacing: [7.0310003e-01, 4.9962729e-01, 7.0310003e-01]
	Tolerance: 7.0309991e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x25b19a0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.9318916e+01, 5.1203903e+01, -8.5357353e+01], InputImage_1 Origin: [8.9318787e+01, 5.1206963e+01, -8.5357582e+01]
	Tolerance: 7.0309991e-07
InputImage Spacing: [7.0309991e-01, 4.9961999e-01, 7.0309979e-01], InputImage_1 Spacing: [7.0310003e-01, 4.9962729e-01, 7.0310003e-01]
	Tolerance: 7.0309991e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x16e89a0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.9318916e+01, 5.1203903e+01, -8.5357353e+01], InputImage_1 Origin: [8.9318787e+01, 5.1206963e+01, -8.5357582e+01]
	Tolerance: 7.0309991e-07
InputImage Spacing: [7.0309991e-01, 4.9961999e-01, 7.0309979e-01], InputImage_1 Spacing: [7.0310003e-01, 4.9962729e-01, 7.0310003e-01]
	Tolerance: 7.0309991e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x17879a0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.9318916e+01, 5.1203903e+01, -8.5357353e+01], InputImage_1 Origin: [8.9318787e+01, 5.1206963e+01, -8.5357582e+01]
	Tolerance: 7.0309991e-07
InputImage Spacing: [7.0309991e-01, 4.9961999e-01, 7.0309979e-01], InputImage_1 Spacing: [7.0310003e-01, 4.9962729e-01, 7.0310003e-01]
	Tolerance: 7.0309991e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x2e879a0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.9318916e+01, 5.1203903e+01, -8.5357353e+01], InputImage_1 Origin: [8.9318787e+01, 5.1206963e+01, -8.5357582e+01]
	Tolerance: 7.0309991e-07
InputImage Spacing: [7.0309991e-01, 4.9961999e-01, 7.0309979e-01], InputImage_1 Spacing: [7.0310003e-01, 4.9962729e-01, 7.0310003e-01]
	Tolerance: 7.0309991e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x2ee29a0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.9318916e+01, 5.1203903e+01, -8.5357353e+01], InputImage_1 Origin: [8.9318787e+01, 5.1206963e+01, -8.5357582e+01]
	Tolerance: 7.0309991e-07
InputImage Spacing: [7.0309991e-01, 4.9961999e-01, 7.0309979e-01], InputImage_1 Spacing: [7.0310003e-01, 4.9962729e-01, 7.0310003e-01]
	Tolerance: 7.0309991e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x2ce59a0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.9318916e+01, 5.1203903e+01, -8.5357353e+01], InputImage_1 Origin: [8.9318787e+01, 5.1206963e+01, -8.5357582e+01]
	Tolerance: 7.0309991e-07
InputImage Spacing: [7.0309991e-01, 4.9961999e-01, 7.0309979e-01], InputImage_1 Spacing: [7.0310003e-01, 4.9962729e-01, 7.0310003e-01]
	Tolerance: 7.0309991e-07

Aborted (core dumped)
 Run Reg 
 values 1
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/MS_vimp2_765_04162013_AW/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
Metric 0:  Not a Point-set
  Fixed image file: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/MS_vimp2_765_04162013_AW/WMnMPRAGE_BsCr_PProcessed.nii.gz
  Moving image file: /array/ssd/msmajdi/code/general/RigidRegistration/origtemplate.nii.gz
  similarity metric weight: 1
  Radius: [5, 5, 5]
  radius: [5, 5, 5]
 use Histogram Matching 
 prepro 
 set 
Use identity affine transform as initial affine para.
aff_init.IsNull()==1
Use identity affine transform as initial fixed affine para.
fixed_aff_init.IsNull()==1
Continue affine registration from the input
affine_opt.use_rotation_header = 0
affine_opt.ignore_void_orgin = 0
transform_initial: IsNotNull():0
OptAffine: metric_type=AffineWithMutualInformation
MI_bins=32 MI_samples=16000
number_of_seeds=0 time_seed=1547863382
number_of_levels=5
number_of_iteration_list=[10000,10000,10000,10000,10000]
graident_scales=[1,1,1,1,1,1,1,1,1,1,0.0001,0.0001,0.0001]
is_rigid = 0
mask null: 1
maximum_step_length=0.1
relaxation_factor=0.5
minimum_step_length=0.0001
translation_scales=0.0001
opt.transform_initial.IsNull(): 1
 opt.use_rotation_header: 0
 opt.ignore_void_orgin: 0
input affine center: [-8.45648, -33.5308, -8.02677]
input affine para: [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 2.913951799607438, -4.491051872242622, -3.6994395918025127]
level 0, iter 157, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [0.024745244053678447, -0.01361303306882844, 0.013302455750603515, 0.9995125826613661, 0.998252572655111, 0.9839144206983207, 0.9666743235948794, -0.017341220658280924, -0.01236552586740143, -0.03134277653932307, -0.6424166844254922, -4.456528107953253, -2.4041404497287364]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 81, size: fix[45, 50, 45]-mov[45, 55, 45], affine para: [0.027281559700400866, -0.017764793541892553, 0.013926258463696009, 0.9993728973390912, 0.9936020901635342, 0.9839980191320008, 0.9628115748563852, -0.01757779349166731, -0.011158043888774975, -0.0350964198892006, -0.6929158357918521, -4.7861679331645535, -2.304293539796839]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 130, size: fix[90, 100, 90]-mov[90, 110, 90], affine para: [0.030933543712283587, -0.015641243821578905, 0.01343294457936675, 0.9993087727849894, 0.9932870949963726, 0.9831132973017334, 0.9577048078451786, -0.016129190321780375, -0.011846624495971177, -0.03526408948686217, -0.6565979128979529, -4.988541438450446, -2.4756593314152227]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 297, size: fix[180, 200, 180]-mov[180, 220, 180], affine para: [0.02218589880159544, -0.025058829216032148, 0.011978310228116854, 0.9993679808042512, 0.9925050159050054, 0.9856837036675246, 0.9678159328475975, -0.015762917577453593, -0.0053428156068596674, -0.0264873314988928, -1.0301048221157838, -4.68846295923477, -3.057215939059361]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 206, size: fix[256, 400, 256]-mov[256, 440, 256], affine para: [0.023543408054036843, -0.021977110624379827, 0.01273020327183549, 0.9994001483242149, 0.9921007397991171, 0.9836025979137495, 0.9633509495065063, -0.014127160067174245, -0.00516443899021, -0.029667555583666516, -1.0019358241995011, -4.590895916216606, -2.838375554575452]
    reach oscillation, current step: 9.76563e-05<0.0001
A=1 0 0 
0 1 0 
0 0 1 

rotation R1 0 0 
0 1 0 
0 0 1 

upper R1 0 0 
0 1 0 
0 0 1 

s=0.25 u=0 v=0 w0 r=1
m_Rotation from vnl0 0 0 1
level 0, iter 274, size: fix[32, 32, 32]-mov[32, 32, 32], affine para: [-0.022756143770700937, 0.008645064277211763, -0.004738028135519917, 0.9996924386398635, 1.0098961193983311, 1.012806731077497, 1.0171728739005759, 0.02209409857516571, 0.019656285228655066, 0.025797503151241175, 0.5796507973870088, 4.8055130874812795, 2.842272504737286]
    reach oscillation, current step: 9.76563e-05<0.0001
level 1, iter 146, size: fix[45, 55, 45]-mov[45, 50, 45], affine para: [-0.020055067204889157, 0.018543153789723522, -0.006040628504710984, 0.9996086516903533, 1.0091497900787019, 1.01277338471931, 1.024681055957351, 0.02161532498549342, 0.007592411445027265, 0.026920523937673947, 1.056635952891589, 4.662669118987582, 2.8927832931077218]
    reach oscillation, current step: 9.76563e-05<0.0001
level 2, iter 167, size: fix[90, 110, 90]-mov[90, 100, 90], affine para: [-0.03324435353828056, 0.019020530837298464, -0.005200144885937455, 0.9992527162122975, 1.010490893848471, 1.0085467204336886, 1.0428488203604092, 0.02397794739893031, 0.007375530210274327, 0.031574723767594425, 1.0041432048785226, 5.352255255863668, 2.281377708321422]
    reach oscillation, current step: 9.76563e-05<0.0001
level 3, iter 121, size: fix[180, 220, 180]-mov[180, 200, 180], affine para: [-0.02631614822150707, 0.01939898327820675, -0.0035588475293111747, 0.9994590909060853, 1.0124816893904172, 1.0065782863025055, 1.0394930629218144, 0.020460901335644207, 0.006537666507022474, 0.034433050195326935, 1.1043342939777552, 4.985662921886233, 2.608719178595481]
    reach oscillation, current step: 9.76563e-05<0.0001
level 4, iter 142, size: fix[256, 440, 256]-mov[256, 400, 256], affine para: [-0.028139510289988658, 0.020085364601172592, -0.004512503888063096, 0.9993920068712466, 1.0104590367813868, 1.0110873727237026, 1.0436890896502955, 0.019776265780952224, 0.006177354109088199, 0.030291157997536435, 1.1485252544295743, 5.031492443210884, 2.3673131854593374]
    reach oscillation, current step: 9.76563e-05<0.0001
 v1 -0.350894 v2 -0.341538
final [0.023543408054036843, -0.021977110624379827, 0.01273020327183549, 0.9994001483242149, 0.9921007397991171, 0.9836025979137495, 0.9633509495065063, -0.014127160067174245, -0.00516443899021, -0.029667555583666516, -1.0019358241995011, -4.590895916216606, -2.838375554575452]
outputput affine center: [-8.45648, -33.5308, -8.02677]
output affine para: [0.023543408054036843, -0.021977110624379827, 0.01273020327183549, 0.9994001483242149, 0.9921007397991171, 0.9836025979137495, 0.9633509495065063, -0.014127160067174245, -0.00516443899021, -0.029667555583666516, -1.0019358241995011, -4.590895916216606, -2.838375554575452]
initial measure value (MMI): rval = -0.242479
final measure value (MMI): rval = -0.359758
finish affine registeration...
 Requested Transformation Model:  SyN : Using 
SyN diffeomorphic model for transformation. 
  Grad Step 0.5 total-smoothing 0.5 gradient-smoothing 3
 setting N-TimeSteps = 1 trunc 256
 Registration Done 
 begin writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/MS_vimp2_765_04162013_AW/temp/deformation/linear
 writing /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/MS_vimp2_765_04162013_AW/temp/deformation/linear affine 
AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/MS_vimp2_765_04162013_AW/temp/deformation/linearAffine.txt
moving_image_filename: /array/ssd/msmajdi/code/general/RigidRegistration/MyCrop_Template2_Gap20.nii.gz components 1
output_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/MS_vimp2_765_04162013_AW/temp/CropMask.nii.gz
reference_image_filename: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/MS_vimp2_765_04162013_AW/WMnMPRAGE_BsCr_PProcessed.nii.gz
[0/1]: AFFINE: /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/MS_vimp2_765_04162013_AW/temp/deformation/linearAffine.txt
User Linear interpolation 
 You are doing something more complex -- we wont check syntax in this case 
output origin: [84.542, 61.505, -104.45]
output size: [256, 400, 256]
output spacing: [0.7031, 0.5, 0.7031]
output direction: -1 0 0
0 -1 0
0 0 1

bounding box of label=1 : ImageRegion (0x7fffbd1d1470)
  Dimension: 3
  Index: [70, 153, 80]
  Size: [79, 77, 84]

padding radius = 0 : ImageRegion (0x7fffbd1d1470)
  Dimension: 3
  Index: [70, 153, 80]
  Size: [79, 77, 84]

crop with original image region ImageRegion (0x24d9a98)
  Dimension: 3
  Index: [0, 0, 0]
  Size: [256, 400, 256]
 : ImageRegion (0x7fffbd1d1470)
  Dimension: 3
  Index: [70, 153, 80]
  Size: [79, 77, 84]

final cropped region: ImageRegion (0x7fffbd1d1470)
  Dimension: 3
  Index: [70, 153, 80]
  Size: [79, 77, 84]

terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x2d414f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.4542015e+01, 6.1505005e+01, -1.0444981e+02], InputImage_1 Origin: [8.4542007e+01, 6.1505005e+01, -1.0444981e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ExceptionObject'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageToImageFilter.hxx:241:
itk::ERROR: LabelStatisticsImageFilter(0x23b54f0): Inputs do not occupy the same physical space! 
InputImage Origin: [8.4542015e+01, 6.1505005e+01, -1.0444981e+02], InputImage_1 Origin: [8.4542007e+01, 6.1505005e+01, -1.0444981e+02]
	Tolerance: 7.0310003e-07

Aborted (core dumped)
terminate called after throwing an instance of 'itk::ImageFileReaderException'
  what():  /array/hdd/msmajdi/bin/ants/ITKv4-install/include/ITK-4.12/itkImageFileReader.hxx:143:
 Could not create IO object for reading file /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/MS_vimp2_765_04162013_AW/Label/4-VA_PProcessed.nii.gz
The file doesn't exist. 
Filename = /array/ssd/msmajdi/experiments/keras/exp2_tmp/train/MS_vimp2_765_04162013_AW/Label/4-VA_PProcessed.nii.gz

Aborted (core dumped)
Using TensorFlow backend.
TRAIN BiasCorrection: 20priors_vimp_668_02282013_CD 0/19
TRAIN BiasCorrection: 20priors_vimp_819_05172013_DS 1/19
TRAIN BiasCorrection: 20priors_vimp_823_05202013_AJ 2/19
TRAIN BiasCorrection: 20priors_vimp_824_05212013_JS 3/19
TRAIN BiasCorrection: 20priors_vimp_845_05312013_VZ 4/19
TRAIN BiasCorrection: 20priors_vimp_915_07112013_LC 5/19
TRAIN BiasCorrection: 20priors_vimp_943_07242013_PA 6/19
TRAIN BiasCorrection: 20priors_vimp_964_08092013_TG 7/19
TRAIN BiasCorrection: 20priors_vimp_ANON606_20130110 8/19
TRAIN BiasCorrection: 20priors_vimp_ANON724_03272013 9/19
TRAIN BiasCorrection: 20priors_vimp_ctrl_902_07052013_SI 10/19
TRAIN BiasCorrection: 20priors_vimp_ctrl_911_07082013_TTO 11/19
TRAIN BiasCorrection: 20priors_vimp_ctrl_920_07122013_SW 12/19
TRAIN BiasCorrection: MS_vimp2_765_04162013_AW 13/19
TRAIN BiasCorrection: MS_vimp2_967_08132013_KW 14/19
TRAIN BiasCorrection: MS_vimp2_988_08302013_CB 15/19
TRAIN BiasCorrection: MS_vimp2_ANON702_03152013 16/19
TRAIN BiasCorrection: MS_vimp2_ANON714_03222013 17/19
TRAIN BiasCorrection: MS_vimp2_ctrl_991_08302013_JF 18/19
TEST BiasCorrection: 20priors_vimp_869_06142013_BL 0/8
TEST BiasCorrection: 20priors_vimp_884_06272013_TS 1/8
TEST BiasCorrection: 20priors_vimp_901_07052013_AS 2/8
TEST BiasCorrection: 20priors_vimp_ANON624_20130117 3/8
TEST BiasCorrection: 20priors_vimp_ctrl_918_07112013_TQ 4/8
TEST BiasCorrection: 20priors_vimp_ctrl_921_07122013_MP 5/8
TEST BiasCorrection: MS_vimp2_972_08152013_DC 6/8
TEST BiasCorrection: MS_vimp2_ANON695_03132013 7/8

 TRAIN 20priors_vimp_668_02282013_CD 0/19 ------------
    - RigidRegistration: 
    - Cropping: 

 TRAIN 20priors_vimp_819_05172013_DS 1/19 ------------
    - RigidRegistration: 
    - Cropping: 

 TRAIN 20priors_vimp_823_05202013_AJ 2/19 ------------
    - RigidRegistration: 
    - Cropping: 

 TRAIN 20priors_vimp_824_05212013_JS 3/19 ------------
    - RigidRegistration: 
    - Cropping: 

 TRAIN 20priors_vimp_845_05312013_VZ 4/19 ------------
    - RigidRegistration: 
    - Cropping: 

 TRAIN 20priors_vimp_915_07112013_LC 5/19 ------------
    - RigidRegistration: 
    - Cropping: 

 TRAIN 20priors_vimp_943_07242013_PA 6/19 ------------
    - RigidRegistration: 
    - Cropping: 

 TRAIN 20priors_vimp_964_08092013_TG 7/19 ------------
    - RigidRegistration: 
    - Cropping: 

 TRAIN 20priors_vimp_ANON606_20130110 8/19 ------------
    - RigidRegistration: 
    - Cropping: 

 TRAIN 20priors_vimp_ANON724_03272013 9/19 ------------
    - RigidRegistration: 
    - Cropping: 

 TRAIN 20priors_vimp_ctrl_902_07052013_SI 10/19 ------------
    - RigidRegistration: 
    - Cropping: 

 TRAIN 20priors_vimp_ctrl_911_07082013_TTO 11/19 ------------
    - RigidRegistration: 
    - Cropping: 

 TRAIN 20priors_vimp_ctrl_920_07122013_SW 12/19 ------------
    - RigidRegistration: 
    - Cropping: 

 TRAIN MS_vimp2_765_04162013_AW 13/19 ------------
    - RigidRegistration: 
    - Cropping: 
Traceback (most recent call last):
  File "run_preprocess.py", line 13, in <module>
    applyPreprocess.main(params, 'experiment')
  File "/array/ssd/msmajdi/code/thalamus/keras/preprocess/applyPreprocess.py", line 15, in main
    params = apply_On_Experiment(params)
  File "/array/ssd/msmajdi/code/thalamus/keras/preprocess/applyPreprocess.py", line 62, in apply_On_Experiment
    BashCallingFunctionsA.Bash_Cropping( subject , params)
  File "/array/ssd/msmajdi/code/thalamus/keras/preprocess/BashCallingFunctionsA.py", line 65, in Bash_Cropping
    copyfile(outP , outDebug)
  File "/array/ssd/msmajdi/anaconda3/lib/python3.6/shutil.py", line 120, in copyfile
    with open(src, 'rb') as fsrc:
FileNotFoundError: [Errno 2] No such file or directory: '/array/ssd/msmajdi/experiments/keras/exp2_tmp/train/MS_vimp2_765_04162013_AW/Label/4-VA_PProcessed.nii.gz'
